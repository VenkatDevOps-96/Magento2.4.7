{"format_version":"1.2","terraform_version":"1.12.2","variables":{"db_password":{"value":"codilar1234"},"db_username":{"value":"admin"},"private_subnet_1_id":{"value":"subnet-0844e1c7c0062ee6f"},"private_subnet_2_id":{"value":"subnet-0f1ba7ce386ac9cf9"},"private_subnet_ids":{"value":["subnet-0844e1c7c0062ee6f"]}},"planned_values":{"root_module":{"resources":[{"address":"aws_db_subnet_group.magento","mode":"managed","type":"aws_db_subnet_group","name":"magento","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Managed by Terraform","name":"magento-rds-subnet-group","region":"us-east-1","subnet_ids":["subnet-0844e1c7c0062ee6f","subnet-0f1ba7ce386ac9cf9"],"tags":{"Name":"Magento-RDS-SubnetGroup"},"tags_all":{"Name":"Magento-RDS-SubnetGroup"}},"sensitive_values":{"subnet_ids":[false,false],"supported_network_types":[],"tags":{},"tags_all":{}}}],"child_modules":[{"resources":[{"address":"module.alb.aws_lb.this","mode":"managed","type":"aws_lb","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","arn_suffix":"app/Magento-ALB/d0d949a23238bb2f","client_keep_alive":3600,"connection_logs":[{"bucket":"","enabled":false,"prefix":""}],"customer_owned_ipv4_pool":"","desync_mitigation_mode":"defensive","dns_name":"Magento-ALB-135177245.us-east-1.elb.amazonaws.com","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"application","minimum_load_balancer_capacity":[],"name":"Magento-ALB","name_prefix":"","preserve_host_header":false,"region":"us-east-1","tags":{"Name":"Magento-ALB"},"tags_all":{"Name":"Magento-ALB"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe","xff_header_processing_mode":"append","zone_id":"Z35SXDOTRQ7X7K"},"sensitive_values":{"access_logs":[{}],"connection_logs":[{}],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[],"subnet_mapping":[],"subnets":[],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f"}},{"address":"module.alb.aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":1,"redirect":[],"type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","mutual_authentication":[],"port":80,"protocol":"HTTP","region":"us-east-1","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":"","routing_http_response_access_control_allow_headers_header_value":"","routing_http_response_access_control_allow_methods_header_value":"","routing_http_response_access_control_allow_origin_header_value":"","routing_http_response_access_control_expose_headers_header_value":"","routing_http_response_access_control_max_age_header_value":"","routing_http_response_content_security_policy_header_value":"","routing_http_response_server_enabled":true,"routing_http_response_strict_transport_security_header_value":"","routing_http_response_x_content_type_options_header_value":"","routing_http_response_x_frame_options_header_value":"","ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":null,"timeouts":null},"sensitive_values":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860"}},{"address":"module.alb.aws_lb_listener_rule.admin_rule","mode":"managed","type":"aws_lb_listener_rule","name":"admin_rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{"duration":null,"enabled":false}],"target_group":[{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","weight":1}]}],"order":1,"redirect":[],"type":"forward"}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["/admin*"]}],"query_string":[],"source_ip":[]}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","listener_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","priority":1,"region":"us-east-1","tags":{},"tags_all":{}},"sensitive_values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{}],"target_group":[{}]}],"redirect":[]}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":[false]}],"query_string":[],"source_ip":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818"}},{"address":"module.alb.aws_lb_target_group.app_tg","mode":"managed","type":"aws_lb_target_group","name":"app_tg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200","path":"/var/www/html/magento2/pub/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"magento-app-tg","port":8080,"protocol":"HTTP","proxy_protocol_v2":false,"region":"us-east-1","slow_start":0,"tags":null,"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"health_check":[{}],"load_balancer_arns":[],"stickiness":[],"tags_all":{},"target_failover":[],"target_group_health":[],"target_health_state":[]},"identity_schema_version":0,"identity":{"arn":null}},{"address":"module.alb.aws_lb_target_group.varnish_tg","mode":"managed","type":"aws_lb_target_group","name":"varnish_tg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200","path":"/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"magento-varnish-tg","port":80,"protocol":"HTTP","proxy_protocol_v2":false,"region":"us-east-1","slow_start":0,"tags":null,"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"health_check":[{}],"load_balancer_arns":[],"stickiness":[],"tags_all":{},"target_failover":[],"target_group_health":[],"target_health_state":[]},"identity_schema_version":0,"identity":{"arn":null}}],"address":"module.alb"},{"resources":[{"address":"module.autoscaling_group.aws_autoscaling_attachment.asg_nlb_attachment","mode":"managed","type":"aws_autoscaling_attachment","name":"asg_nlb_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"autoscaling_group_name":"magento-ASG","elb":null,"lb_target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","region":"us-east-1"},"sensitive_values":{}},{"address":"module.autoscaling_group.aws_autoscaling_group.this","mode":"managed","type":"aws_autoscaling_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:autoscaling:us-east-1:763457559801:autoScalingGroup:fa52ea09-2ae1-4287-849b-db55ca8bbf11:autoScalingGroupName/magento-ASG","availability_zone_distribution":[{"capacity_distribution_strategy":"balanced-best-effort"}],"availability_zones":["us-east-1b","us-east-1c"],"capacity_rebalance":false,"capacity_reservation_specification":[{"capacity_reservation_preference":"default","capacity_reservation_target":[]}],"context":"","default_cooldown":300,"default_instance_warmup":0,"desired_capacity":1,"desired_capacity_type":"","enabled_metrics":[],"force_delete":false,"force_delete_warm_pool":false,"health_check_grace_period":300,"health_check_type":"EC2","id":"magento-ASG","ignore_failed_scaling_activities":false,"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_configuration":"","launch_template":[{"name":"magento-app-launch-template"}],"load_balancers":[],"max_instance_lifetime":0,"max_size":4,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":1,"mixed_instances_policy":[],"name":"magento-ASG","name_prefix":"","placement_group":"","predicted_capacity":0,"protect_from_scale_in":false,"region":"us-east-1","service_linked_role_arn":"arn:aws:iam::763457559801:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling","suspended_processes":[],"tag":[{"key":"Name","propagate_at_launch":true,"value":"magento-ASG"}],"target_group_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd"],"termination_policies":[],"timeouts":null,"traffic_source":[{"identifier":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","type":"elbv2"},{"identifier":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","type":"elbv2"}],"vpc_zone_identifier":["subnet-0844e1c7c0062ee6f"],"wait_for_capacity_timeout":"10m","wait_for_elb_capacity":null,"warm_pool":[],"warm_pool_size":0},"sensitive_values":{"availability_zone_distribution":[{}],"availability_zones":[false,false],"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"enabled_metrics":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_template":[{}],"load_balancers":[],"mixed_instances_policy":[],"suspended_processes":[],"tag":[{}],"target_group_arns":[false,false],"termination_policies":[],"traffic_source":[{},{}],"vpc_zone_identifier":[false],"warm_pool":[]}}],"address":"module.autoscaling_group"},{"resources":[{"address":"module.bastion_instance.aws_instance.this","mode":"managed","type":"aws_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"ami":"ami-0a7d80731ae1b2435","arn":"arn:aws:ec2:us-east-1:763457559801:instance/i-05f4c1103487f3f5c","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"credit_specification":[{"cpu_credits":"standard"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":true,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"force_destroy":false,"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-05f4c1103487f3f5c","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.medium","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"magento-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-005ba8aa90d584e53","private_dns":"ip-10-0-1-41.ec2.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.41","public_dns":"ec2-54-197-238-4.compute-1.amazonaws.com","public_ip":"54.197.238.4","region":"us-east-1","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":300,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0d73e5a3591775626","volume_size":100,"volume_type":"gp3"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Bastion-Host","Role":"Bastion"},"tags_all":{"Name":"Bastion-Host","Role":"Bastion"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"cpu_options":[{}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[{}],"metadata_options":[{}],"network_interface":[],"private_dns_name_options":[{}],"root_block_device":[{"tags":{},"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}],"address":"module.bastion_instance"},{"resources":[{"address":"module.efs.aws_efs_file_system.this","mode":"managed","type":"aws_efs_file_system","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"creation_token":"magento-efs","encrypted":true,"lifecycle_policy":[],"provisioned_throughput_in_mibps":null,"region":"us-east-1","tags":{"Name":"magento-efs"},"tags_all":{"Name":"magento-efs"},"throughput_mode":"bursting"},"sensitive_values":{"lifecycle_policy":[],"protection":[],"size_in_bytes":[],"tags":{},"tags_all":{}}},{"address":"module.efs.aws_efs_mount_target.private_subnet_1","mode":"managed","type":"aws_efs_mount_target","name":"private_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"region":"us-east-1","security_groups":["sg-0f6ca177cc2116d5f"],"subnet_id":"subnet-0844e1c7c0062ee6f","timeouts":null},"sensitive_values":{"security_groups":[false]}},{"address":"module.efs.aws_efs_mount_target.private_subnet_2","mode":"managed","type":"aws_efs_mount_target","name":"private_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"region":"us-east-1","security_groups":["sg-0f6ca177cc2116d5f"],"subnet_id":"subnet-0f1ba7ce386ac9cf9","timeouts":null},"sensitive_values":{"security_groups":[false]}}],"address":"module.efs"},{"resources":[{"address":"module.launch_template.aws_launch_template.app_lt","mode":"managed","type":"aws_launch_template","name":"app_lt","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"description":null,"disable_api_stop":null,"disable_api_termination":null,"ebs_optimized":null,"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"image_id":"ami-035dd7fc60ed66665","instance_initiated_shutdown_behavior":null,"instance_market_options":[],"instance_requirements":[],"instance_type":"t3.medium","kernel_id":null,"key_name":null,"license_specification":[],"maintenance_options":[],"monitoring":[],"name_prefix":"magento-app-lt-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":null,"region":"us-east-1","security_group_names":null,"tag_specifications":[],"tags":null,"update_default_version":null,"user_data":null,"vpc_security_group_ids":null},"sensitive_values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"tag_specifications":[],"tags_all":{}}},{"address":"module.launch_template.aws_launch_template.this","mode":"managed","type":"aws_launch_template","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"description":null,"disable_api_stop":null,"disable_api_termination":null,"ebs_optimized":null,"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"image_id":"ami-035dd7fc60ed66665","instance_initiated_shutdown_behavior":null,"instance_market_options":[],"instance_requirements":[],"instance_type":"t3.medium","kernel_id":null,"key_name":null,"license_specification":[],"maintenance_options":[],"monitoring":[],"name_prefix":"magento-app-launch-template-","network_interfaces":[{"associate_carrier_ip_address":null,"associate_public_ip_address":"true","connection_tracking_specification":[],"delete_on_termination":null,"description":null,"device_index":null,"ena_srd_specification":[],"interface_type":null,"ipv4_address_count":null,"ipv4_addresses":null,"ipv4_prefix_count":null,"ipv4_prefixes":null,"ipv6_address_count":null,"ipv6_addresses":null,"ipv6_prefix_count":null,"ipv6_prefixes":null,"network_card_index":null,"network_interface_id":null,"primary_ipv6":null,"private_ip_address":null,"security_groups":["sg-09cf837ea2049c0dc"],"subnet_id":null}],"placement":[],"private_dns_name_options":[],"ram_disk_id":null,"region":"us-east-1","security_group_names":null,"tag_specifications":[],"tags":null,"update_default_version":null,"user_data":"","vpc_security_group_ids":null},"sensitive_values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[{"connection_tracking_specification":[],"ena_srd_specification":[],"security_groups":[false]}],"placement":[],"private_dns_name_options":[],"tag_specifications":[],"tags_all":{}}}],"address":"module.launch_template"},{"resources":[{"address":"module.nlb.aws_lb.this","mode":"managed","type":"aws_lb","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","arn_suffix":"net/magento-app-nlb/2f3135bb6f3bd957","client_keep_alive":null,"connection_logs":[],"customer_owned_ipv4_pool":"","desync_mitigation_mode":null,"dns_name":"magento-app-nlb-2f3135bb6f3bd957.elb.us-east-1.amazonaws.com","dns_record_client_routing_policy":"any_availability_zone","drop_invalid_header_fields":null,"enable_cross_zone_load_balancing":false,"enable_deletion_protection":false,"enable_http2":null,"enable_tls_version_and_cipher_suite_headers":null,"enable_waf_fail_open":null,"enable_xff_client_port":null,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","idle_timeout":null,"internal":true,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"network","minimum_load_balancer_capacity":[],"name":"magento-app-nlb","name_prefix":"","preserve_host_header":null,"region":"us-east-1","security_groups":["sg-0bb26111522191e4d"],"subnet_mapping":[{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0844e1c7c0062ee6f"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0f1ba7ce386ac9cf9"}],"subnets":["subnet-0844e1c7c0062ee6f","subnet-0f1ba7ce386ac9cf9"],"tags":{"Name":"magento-app-nlb"},"tags_all":{"Name":"magento-app-nlb"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe","xff_header_processing_mode":null,"zone_id":"Z26RNL4JYFTOTI"},"sensitive_values":{"access_logs":[{}],"connection_logs":[],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[{},{}],"subnets":[false,false],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957"}},{"address":"module.nlb.aws_lb_listener.tcp_8080","mode":"managed","type":"aws_lb_listener","name":"tcp_8080","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":0,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","mutual_authentication":[],"port":8080,"protocol":"TCP","region":"us-east-1","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":null,"routing_http_response_access_control_allow_headers_header_value":null,"routing_http_response_access_control_allow_methods_header_value":null,"routing_http_response_access_control_allow_origin_header_value":null,"routing_http_response_access_control_expose_headers_header_value":null,"routing_http_response_access_control_max_age_header_value":null,"routing_http_response_content_security_policy_header_value":null,"routing_http_response_server_enabled":null,"routing_http_response_strict_transport_security_header_value":null,"routing_http_response_x_content_type_options_header_value":null,"routing_http_response_x_frame_options_header_value":null,"ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":350,"timeouts":null},"sensitive_values":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac"}},{"address":"module.nlb.aws_lb_target_group.app_nlb_tg","mode":"managed","type":"aws_lb_target_group","name":"app_nlb_tg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","arn_suffix":"targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","connection_termination":false,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200-399","path":"/var/www/html/magento2/pub/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":6,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":null,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957"],"load_balancing_algorithm_type":null,"load_balancing_anomaly_mitigation":null,"load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"magento-app-nlb-tg","name_prefix":"","port":8080,"preserve_client_ip":"true","protocol":"TCP","protocol_version":null,"proxy_protocol_v2":false,"region":"us-east-1","slow_start":null,"stickiness":[{"cookie_duration":0,"cookie_name":"","enabled":false,"type":"source_ip"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":true,"unhealthy_draining_interval":0}],"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]},"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d"}}],"address":"module.nlb"},{"resources":[{"address":"module.rds.aws_db_instance.this","mode":"managed","type":"aws_db_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"allocated_storage":50,"allow_major_version_upgrade":null,"apply_immediately":false,"auto_minor_version_upgrade":true,"blue_green_update":[],"copy_tags_to_snapshot":false,"custom_iam_instance_profile":null,"customer_owned_ip_enabled":null,"db_name":"magento","db_subnet_group_name":"default-vpc-097b04327a4c3cbbe","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":null,"domain_auth_secret_arn":null,"domain_dns_ips":null,"domain_iam_role_name":null,"domain_ou":null,"enabled_cloudwatch_logs_exports":null,"engine":"mysql","engine_version":"8.0","final_snapshot_identifier":null,"iam_database_authentication_enabled":null,"identifier":"magento-rds","instance_class":"db.m5.xlarge","manage_master_user_password":null,"max_allocated_storage":null,"monitoring_interval":0,"multi_az":false,"password":"codilar1234","password_wo":null,"password_wo_version":null,"performance_insights_enabled":false,"publicly_accessible":false,"region":"us-east-1","replicate_source_db":null,"restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"storage_encrypted":null,"tags":{"Application":"Magento","Environment":"Production","Name":"magento-rds"},"tags_all":{"Application":"Magento","Environment":"Production","Name":"magento-rds"},"timeouts":null,"upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0d05e04f7b4602fff"]},"sensitive_values":{"blue_green_update":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"username":true,"vpc_security_group_ids":[false]}}],"address":"module.rds"},{"resources":[{"address":"module.security_groups.aws_security_group.alb_sg","mode":"managed","type":"aws_security_group","name":"alb_sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow HTTP traffic to ALB","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"ALB-SG","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"ALB-SG"},"tags_all":{"Name":"ALB-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"module.security_groups.aws_security_group.app","mode":"managed","type":"aws_security_group","name":"app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow traffic from Varnish, EFS, RDS, Bastion","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.1.0/24","10.0.2.0/24","10.0.3.0/24"],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306},{"cidr_blocks":["10.0.1.0/24"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["10.0.1.0/24"],"description":"","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["10.0.1.0/24"],"description":"","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080},{"cidr_blocks":["10.0.1.0/24"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80},{"cidr_blocks":["10.0.1.0/24"],"description":"","from_port":9200,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":9200},{"cidr_blocks":["10.0.2.0/24","10.0.3.0/24"],"description":"","from_port":2049,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":2049},{"cidr_blocks":["18.214.123.55/32"],"description":"","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080}],"name":"app-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"App-SG"},"tags_all":{"Name":"App-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false,false,false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false,false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"763457559801","id":"sg-0d05e04f7b4602fff","region":"us-east-1"}},{"address":"module.security_groups.aws_security_group.bastion","mode":"managed","type":"aws_security_group","name":"bastion","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow SSH and 8080 from admin IP","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080},{"cidr_blocks":["106.51.80.19/32"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"bastion-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"Bastion-SG"},"tags_all":{"Name":"Bastion-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"763457559801","id":"sg-045371a5988ca6dab","region":"us-east-1"}},{"address":"module.security_groups.aws_security_group.efs","mode":"managed","type":"aws_security_group","name":"efs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow NFS from App","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.2.0/24"],"description":"","from_port":2049,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":2049}],"name":"efs-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"EFS-SG"},"tags_all":{"Name":"EFS-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"763457559801","id":"sg-0f6ca177cc2116d5f","region":"us-east-1"}},{"address":"module.security_groups.aws_security_group.rds","mode":"managed","type":"aws_security_group","name":"rds","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow MySQL from App","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.2.0/24"],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306}],"name":"rds-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"RDS-SG"},"tags_all":{"Name":"RDS-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"763457559801","id":"sg-0d05e04f7b4602fff","region":"us-east-1"}},{"address":"module.security_groups.aws_security_group.varnish","mode":"managed","type":"aws_security_group","name":"varnish","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow all traffic (adjust later)","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"varnish-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"Varnish-SG"},"tags_all":{"Name":"Varnish-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"763457559801","id":"sg-0bb26111522191e4d","region":"us-east-1"}}],"address":"module.security_groups"},{"resources":[{"address":"module.varnish_instance.aws_instance.this","mode":"managed","type":"aws_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"ami":"ami-0a7d80731ae1b2435","associate_public_ip_address":true,"credit_specification":[],"force_destroy":false,"get_password_data":false,"hibernation":null,"instance_type":"t3.medium","key_name":"magento-key","launch_template":[],"region":"us-east-1","root_block_device":[{"delete_on_termination":true,"tags":null,"volume_size":100,"volume_type":"gp3"}],"source_dest_check":true,"subnet_id":"subnet-0e435f008db8b42b6","tags":{"Name":"Varnish-Server","Role":"Varnish"},"tags_all":{"Name":"Varnish-Server","Role":"Varnish"},"timeouts":null,"user_data":null,"user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[{"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}],"address":"module.varnish_instance"},{"resources":[{"address":"module.vpc_networking.aws_eip.nat_eip","mode":"managed","type":"aws_eip","name":"nat_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"allocation_id":"eipalloc-09384b23a2b579040","arn":"arn:aws:ec2:us-east-1:763457559801:elastic-ip/eipalloc-09384b23a2b579040","associate_with_private_ip":null,"association_id":"eipassoc-049036624d56cb6d9","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-09384b23a2b579040","instance":"","ipam_pool_id":null,"network_border_group":"us-east-1","network_interface":"eni-0b9713c62357fb84d","private_dns":"ip-10-0-1-154.ec2.internal","private_ip":"10.0.1.154","ptr_record":"","public_dns":"ec2-44-214-62-155.compute-1.amazonaws.com","public_ip":"44.214.62.155","public_ipv4_pool":"amazon","region":"us-east-1","tags":{"Name":"nat-eip"},"tags_all":{"Name":"nat-eip"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc_networking.aws_internet_gateway.igw","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:internet-gateway/igw-0612fd51f41716ecc","id":"igw-0612fd51f41716ecc","owner_id":"763457559801","region":"us-east-1","tags":{"Name":"Magento-IGW"},"tags_all":{"Name":"Magento-IGW"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc_networking.aws_nat_gateway.nat","mode":"managed","type":"aws_nat_gateway","name":"nat","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-09384b23a2b579040","association_id":"eipassoc-049036624d56cb6d9","connectivity_type":"public","id":"nat-06d5248f0917c82e0","network_interface_id":"eni-0b9713c62357fb84d","private_ip":"10.0.1.154","public_ip":"44.214.62.155","region":"us-east-1","secondary_allocation_ids":[],"secondary_private_ip_address_count":0,"secondary_private_ip_addresses":[],"subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Magento-NAT"},"tags_all":{"Name":"Magento-NAT"},"timeouts":null},"sensitive_values":{"secondary_allocation_ids":[],"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}},{"address":"module.vpc_networking.aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:route-table/rtb-054046a7dfa23c4b6","id":"rtb-054046a7dfa23c4b6","owner_id":"763457559801","propagating_vgws":[],"region":"us-east-1","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-06d5248f0917c82e0","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"Private-RT"},"tags_all":{"Name":"Private-RT"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.vpc_networking.aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:route-table/rtb-0c68e107ffea7a940","id":"rtb-0c68e107ffea7a940","owner_id":"763457559801","propagating_vgws":[],"region":"us-east-1","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0612fd51f41716ecc","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"Public-RT"},"tags_all":{"Name":"Public-RT"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.vpc_networking.aws_route_table_association.private_app","mode":"managed","type":"aws_route_table_association","name":"private_app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"region":"us-east-1","route_table_id":"rtb-054046a7dfa23c4b6","timeouts":null},"sensitive_values":{}},{"address":"module.vpc_networking.aws_route_table_association.private_db","mode":"managed","type":"aws_route_table_association","name":"private_db","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"region":"us-east-1","route_table_id":"rtb-054046a7dfa23c4b6","timeouts":null},"sensitive_values":{}},{"address":"module.vpc_networking.aws_route_table_association.public_1","mode":"managed","type":"aws_route_table_association","name":"public_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-0d310d0fb411509b7","region":"us-east-1","route_table_id":"rtb-0c68e107ffea7a940","subnet_id":"subnet-07ac857e4cadec4a0","timeouts":null},"sensitive_values":{}},{"address":"module.vpc_networking.aws_route_table_association.public_2","mode":"managed","type":"aws_route_table_association","name":"public_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"region":"us-east-1","route_table_id":"rtb-0c68e107ffea7a940","timeouts":null},"sensitive_values":{}},{"address":"module.vpc_networking.aws_subnet.private_app","mode":"managed","type":"aws_subnet","name":"private_app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"Private-App-Subnet"},"tags_all":{"Name":"Private-App-Subnet"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc_networking.aws_subnet.private_db","mode":"managed","type":"aws_subnet","name":"private_db","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"Private-DB-Subnet"},"tags_all":{"Name":"Private-DB-Subnet"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc_networking.aws_subnet.public_1","mode":"managed","type":"aws_subnet","name":"public_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:subnet/subnet-07ac857e4cadec4a0","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az4","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-07ac857e4cadec4a0","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"763457559801","private_dns_hostname_type_on_launch":"ip-name","region":"us-east-1","tags":{"Name":"Public-Subnet-1"},"tags_all":{"Name":"Public-Subnet-1"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc_networking.aws_subnet.public_2","mode":"managed","type":"aws_subnet","name":"public_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.4.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"Public-Subnet-2"},"tags_all":{"Name":"Public-Subnet-2"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc_networking.aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:vpc/vpc-097b04327a4c3cbbe","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0faa098894ae9bbea","default_route_table_id":"rtb-088f60ea162c83cd5","default_security_group_id":"sg-0235abd9abdecfd5e","dhcp_options_id":"dopt-0456762e9a97fa9dd","enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-097b04327a4c3cbbe","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-088f60ea162c83cd5","owner_id":"763457559801","region":"us-east-1","tags":{"Name":"Magento-VPC"},"tags_all":{"Name":"Magento-VPC"}},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.vpc_networking"}]}},"resource_drift":[{"address":"module.alb.aws_lb_listener_rule.admin_rule","module_address":"module.alb","mode":"managed","type":"aws_lb_listener_rule","name":"admin_rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{"duration":3600,"enabled":false}],"target_group":[{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","weight":1}]}],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","type":"forward"}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["/admin*"]}],"query_string":[],"source_ip":[]}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","listener_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","priority":1,"region":"us-east-1","tags":{},"tags_all":{}},"after":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{"duration":3600,"enabled":false}],"target_group":[{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","weight":1}]}],"order":1,"redirect":[],"target_group_arn":"","type":"forward"}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["/admin*"]}],"query_string":[],"source_ip":[]}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","listener_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","priority":1,"region":"us-east-1","tags":{},"tags_all":{}},"after_unknown":{},"before_sensitive":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{}],"target_group":[{}]}],"redirect":[]}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":[false]}],"query_string":[],"source_ip":[]}],"tags":{},"tags_all":{}},"after_sensitive":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{}],"target_group":[{}]}],"redirect":[]}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":[false]}],"query_string":[],"source_ip":[]}],"tags":{},"tags_all":{}}}},{"address":"module.rds.aws_db_instance.this","module_address":"module.rds","mode":"managed","type":"aws_db_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"address":"magento-rds.c4x2mqmga92y.us-east-1.rds.amazonaws.com","allocated_storage":200,"allow_major_version_upgrade":null,"apply_immediately":null,"arn":"arn:aws:rds:us-east-1:763457559801:db:magento-rds","auto_minor_version_upgrade":true,"availability_zone":"us-east-1b","backup_retention_period":7,"backup_target":"region","backup_window":"07:29-07:59","blue_green_update":[],"ca_cert_identifier":"rds-ca-rsa2048-g1","character_set_name":"","copy_tags_to_snapshot":true,"custom_iam_instance_profile":"","customer_owned_ip_enabled":false,"database_insights_mode":"standard","db_name":"magento","db_subnet_group_name":"default-vpc-097b04327a4c3cbbe","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_auth_secret_arn":"","domain_dns_ips":[],"domain_fqdn":"","domain_iam_role_name":"","domain_ou":"","enabled_cloudwatch_logs_exports":[],"endpoint":"magento-rds.c4x2mqmga92y.us-east-1.rds.amazonaws.com:3306","engine":"mysql","engine_lifecycle_support":"open-source-rds-extended-support-disabled","engine_version":"8.0.40","engine_version_actual":"8.0.40","final_snapshot_identifier":null,"hosted_zone_id":"Z2R2ITUGPM61AM","iam_database_authentication_enabled":false,"id":"db-AKRSOSRG7GIRTNLPZOTDFBHCEM","identifier":"magento-rds","identifier_prefix":"","instance_class":"db.m5.xlarge","iops":3000,"kms_key_id":"arn:aws:kms:us-east-1:763457559801:key/846e213a-9c2b-4e34-a6c3-82a54d13d52c","latest_restorable_time":"2025-08-08T15:15:00Z","license_model":"general-public-license","listener_endpoint":[],"maintenance_window":"fri:04:52-fri:05:22","manage_master_user_password":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"max_allocated_storage":1000,"monitoring_interval":60,"monitoring_role_arn":"arn:aws:iam::763457559801:role/rds-monitoring-role","multi_az":false,"nchar_character_set_name":"","network_type":"IPV4","option_group_name":"default:mysql-8-0","parameter_group_name":"default.mysql8.0","password":null,"password_wo":null,"password_wo_version":null,"performance_insights_enabled":true,"performance_insights_kms_key_id":"arn:aws:kms:us-east-1:763457559801:key/846e213a-9c2b-4e34-a6c3-82a54d13d52c","performance_insights_retention_period":7,"port":3306,"publicly_accessible":false,"region":"us-east-1","replica_mode":"","replicas":[],"replicate_source_db":"","resource_id":"db-AKRSOSRG7GIRTNLPZOTDFBHCEM","restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"snapshot_identifier":null,"status":"available","storage_encrypted":true,"storage_throughput":125,"storage_type":"gp3","tags":{},"tags_all":{},"timeouts":null,"timezone":"","upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0d05e04f7b4602fff"]},"after":{"address":"magento-rds.c4x2mqmga92y.us-east-1.rds.amazonaws.com","allocated_storage":200,"allow_major_version_upgrade":null,"apply_immediately":null,"arn":"arn:aws:rds:us-east-1:763457559801:db:magento-rds","auto_minor_version_upgrade":true,"availability_zone":"us-east-1b","backup_retention_period":7,"backup_target":"region","backup_window":"07:29-07:59","blue_green_update":[],"ca_cert_identifier":"rds-ca-rsa2048-g1","character_set_name":"","copy_tags_to_snapshot":true,"custom_iam_instance_profile":"","customer_owned_ip_enabled":false,"database_insights_mode":"standard","db_name":"magento","db_subnet_group_name":"default-vpc-097b04327a4c3cbbe","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_auth_secret_arn":"","domain_dns_ips":[],"domain_fqdn":"","domain_iam_role_name":"","domain_ou":"","enabled_cloudwatch_logs_exports":[],"endpoint":"magento-rds.c4x2mqmga92y.us-east-1.rds.amazonaws.com:3306","engine":"mysql","engine_lifecycle_support":"open-source-rds-extended-support-disabled","engine_version":"8.0.40","engine_version_actual":"8.0.40","final_snapshot_identifier":null,"hosted_zone_id":"Z2R2ITUGPM61AM","iam_database_authentication_enabled":false,"id":"db-AKRSOSRG7GIRTNLPZOTDFBHCEM","identifier":"magento-rds","identifier_prefix":"","instance_class":"db.m5.xlarge","iops":3000,"kms_key_id":"arn:aws:kms:us-east-1:763457559801:key/846e213a-9c2b-4e34-a6c3-82a54d13d52c","latest_restorable_time":"2025-08-08T18:00:00Z","license_model":"general-public-license","listener_endpoint":[],"maintenance_window":"fri:04:52-fri:05:22","manage_master_user_password":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"max_allocated_storage":1000,"monitoring_interval":60,"monitoring_role_arn":"arn:aws:iam::763457559801:role/rds-monitoring-role","multi_az":false,"nchar_character_set_name":"","network_type":"IPV4","option_group_name":"default:mysql-8-0","parameter_group_name":"default.mysql8.0","password":null,"password_wo":null,"password_wo_version":null,"performance_insights_enabled":true,"performance_insights_kms_key_id":"arn:aws:kms:us-east-1:763457559801:key/846e213a-9c2b-4e34-a6c3-82a54d13d52c","performance_insights_retention_period":7,"port":3306,"publicly_accessible":false,"region":"us-east-1","replica_mode":"","replicas":[],"replicate_source_db":"","resource_id":"db-AKRSOSRG7GIRTNLPZOTDFBHCEM","restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"snapshot_identifier":null,"status":"available","storage_encrypted":true,"storage_throughput":125,"storage_type":"gp3","tags":{},"tags_all":{},"timeouts":null,"timezone":"","upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0d05e04f7b4602fff"]},"after_unknown":{},"before_sensitive":{"blue_green_update":[],"domain_dns_ips":[],"enabled_cloudwatch_logs_exports":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"after_sensitive":{"blue_green_update":[],"domain_dns_ips":[],"enabled_cloudwatch_logs_exports":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}},{"address":"module.security_groups.aws_security_group.bastion","module_address":"module.security_groups","mode":"managed","type":"aws_security_group","name":"bastion","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-045371a5988ca6dab","description":"SSH access from office IP","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-045371a5988ca6dab","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Jenkins","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080},{"cidr_blocks":["106.51.80.19/32"],"description":"SSH access from office IP","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"Bastion-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-045371a5988ca6dab","description":"SSH access from office IP","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-045371a5988ca6dab","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Jenkins","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080},{"cidr_blocks":["103.2.234.168/32"],"description":"SSH access from office IP","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"Bastion-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"module.varnish_instance.aws_instance.this","module_address":"module.varnish_instance","mode":"managed","type":"aws_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"ami":"ami-0a7d80731ae1b2435","arn":"arn:aws:ec2:us-east-1:763457559801:instance/i-06a56d2e6b1267d08","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":true,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"force_destroy":null,"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-06a56d2e6b1267d08","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.medium","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"magento-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0831543a6dc4426e2","private_dns":"ip-10-0-1-181.ec2.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.181","public_dns":"ec2-34-224-28-45.compute-1.amazonaws.com","public_ip":"34.224.28.45","region":"us-east-1","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0da059d843baf1131","volume_size":20,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Varnish Server"},"tags_all":{"Name":"Varnish Server"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":null,"volume_tags":null,"vpc_security_group_ids":["sg-0bb26111522191e4d"]},"after":{"ami":"ami-0a7d80731ae1b2435","arn":"arn:aws:ec2:us-east-1:763457559801:instance/i-06a56d2e6b1267d08","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":true,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"force_destroy":null,"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-06a56d2e6b1267d08","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.medium","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"magento-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0831543a6dc4426e2","private_dns":"ip-10-0-1-181.ec2.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.181","public_dns":"ec2-54-92-201-253.compute-1.amazonaws.com","public_ip":"54.92.201.253","region":"us-east-1","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0da059d843baf1131","volume_size":20,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Varnish Server"},"tags_all":{"Name":"Varnish Server"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":null,"volume_tags":null,"vpc_security_group_ids":["sg-0bb26111522191e4d"]},"after_unknown":{},"before_sensitive":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"cpu_options":[{}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[{}],"metadata_options":[{}],"network_interface":[],"private_dns_name_options":[{}],"root_block_device":[{"tags":{},"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"after_sensitive":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"cpu_options":[{}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[{}],"metadata_options":[{}],"network_interface":[],"private_dns_name_options":[{}],"root_block_device":[{"tags":{},"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}}],"resource_changes":[{"address":"aws_db_subnet_group.magento","mode":"managed","type":"aws_db_subnet_group","name":"magento","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Managed by Terraform","name":"magento-rds-subnet-group","region":"us-east-1","subnet_ids":["subnet-0844e1c7c0062ee6f","subnet-0f1ba7ce386ac9cf9"],"tags":{"Name":"Magento-RDS-SubnetGroup"},"tags_all":{"Name":"Magento-RDS-SubnetGroup"}},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"subnet_ids":[false,false],"supported_network_types":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"subnet_ids":[false,false],"supported_network_types":[],"tags":{},"tags_all":{}}}},{"address":"module.alb.aws_lb.this","module_address":"module.alb","mode":"managed","type":"aws_lb","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","arn_suffix":"app/Magento-ALB/d0d949a23238bb2f","client_keep_alive":3600,"connection_logs":[{"bucket":"","enabled":false,"prefix":""}],"customer_owned_ipv4_pool":"","desync_mitigation_mode":"defensive","dns_name":"Magento-ALB-135177245.us-east-1.elb.amazonaws.com","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"application","minimum_load_balancer_capacity":[],"name":"Magento-ALB","name_prefix":"","preserve_host_header":false,"region":"us-east-1","security_groups":["sg-0bb26111522191e4d"],"subnet_mapping":[{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-07ac857e4cadec4a0"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0844e1c7c0062ee6f"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0e435f008db8b42b6"}],"subnets":["subnet-07ac857e4cadec4a0","subnet-0844e1c7c0062ee6f","subnet-0e435f008db8b42b6"],"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe","xff_header_processing_mode":"append","zone_id":"Z35SXDOTRQ7X7K"},"after":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","arn_suffix":"app/Magento-ALB/d0d949a23238bb2f","client_keep_alive":3600,"connection_logs":[{"bucket":"","enabled":false,"prefix":""}],"customer_owned_ipv4_pool":"","desync_mitigation_mode":"defensive","dns_name":"Magento-ALB-135177245.us-east-1.elb.amazonaws.com","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"application","minimum_load_balancer_capacity":[],"name":"Magento-ALB","name_prefix":"","preserve_host_header":false,"region":"us-east-1","tags":{"Name":"Magento-ALB"},"tags_all":{"Name":"Magento-ALB"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe","xff_header_processing_mode":"append","zone_id":"Z35SXDOTRQ7X7K"},"after_unknown":{"access_logs":[{}],"connection_logs":[{}],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":true,"subnet_mapping":true,"subnets":true,"tags":{},"tags_all":{}},"before_sensitive":{"access_logs":[{}],"connection_logs":[{}],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[{},{},{}],"subnets":[false,false,false],"tags":{},"tags_all":{}},"after_sensitive":{"access_logs":[{}],"connection_logs":[{}],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[],"subnet_mapping":[],"subnets":[],"tags":{},"tags_all":{}},"before_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f"},"after_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f"}}},{"address":"module.alb.aws_lb_listener.http","module_address":"module.alb","mode":"managed","type":"aws_lb_listener","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{"duration":3600,"enabled":false}],"target_group":[{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-varnish-tg/a2f019021d2ac10f","weight":1}]}],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-varnish-tg/a2f019021d2ac10f","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","mutual_authentication":[],"port":80,"protocol":"HTTP","region":"us-east-1","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":"","routing_http_response_access_control_allow_headers_header_value":"","routing_http_response_access_control_allow_methods_header_value":"","routing_http_response_access_control_allow_origin_header_value":"","routing_http_response_access_control_expose_headers_header_value":"","routing_http_response_access_control_max_age_header_value":"","routing_http_response_content_security_policy_header_value":"","routing_http_response_server_enabled":true,"routing_http_response_strict_transport_security_header_value":"","routing_http_response_x_content_type_options_header_value":"","routing_http_response_x_frame_options_header_value":"","ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":null,"timeouts":null},"after":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":1,"redirect":[],"type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","mutual_authentication":[],"port":80,"protocol":"HTTP","region":"us-east-1","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":"","routing_http_response_access_control_allow_headers_header_value":"","routing_http_response_access_control_allow_methods_header_value":"","routing_http_response_access_control_allow_origin_header_value":"","routing_http_response_access_control_expose_headers_header_value":"","routing_http_response_access_control_max_age_header_value":"","routing_http_response_content_security_policy_header_value":"","routing_http_response_server_enabled":true,"routing_http_response_strict_transport_security_header_value":"","routing_http_response_x_content_type_options_header_value":"","routing_http_response_x_frame_options_header_value":"","ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":null,"timeouts":null},"after_unknown":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"target_group_arn":true}],"mutual_authentication":[],"tags":{},"tags_all":{}},"before_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{}],"target_group":[{}]}],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}},"after_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}},"before_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860"},"after_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860"}}},{"address":"module.alb.aws_lb_listener_rule.admin_rule","module_address":"module.alb","mode":"managed","type":"aws_lb_listener_rule","name":"admin_rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{"duration":3600,"enabled":false}],"target_group":[{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","weight":1}]}],"order":1,"redirect":[],"target_group_arn":"","type":"forward"}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["/admin*"]}],"query_string":[],"source_ip":[]}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","listener_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","priority":1,"region":"us-east-1","tags":{},"tags_all":{}},"after":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{"duration":null,"enabled":false}],"target_group":[{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","weight":1}]}],"order":1,"redirect":[],"type":"forward"}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["/admin*"]}],"query_string":[],"source_ip":[]}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","listener_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","priority":1,"region":"us-east-1","tags":{},"tags_all":{}},"after_unknown":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{}],"target_group":[{}]}],"redirect":[],"target_group_arn":true}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":[false]}],"query_string":[],"source_ip":[]}],"tags":{},"tags_all":{}},"before_sensitive":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{}],"target_group":[{}]}],"redirect":[]}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":[false]}],"query_string":[],"source_ip":[]}],"tags":{},"tags_all":{}},"after_sensitive":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{}],"target_group":[{}]}],"redirect":[]}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":[false]}],"query_string":[],"source_ip":[]}],"tags":{},"tags_all":{}},"before_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818"},"after_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818"}}},{"address":"module.alb.aws_lb_target_group.admin","module_address":"module.alb","mode":"managed","type":"aws_lb_target_group","name":"admin","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","arn_suffix":"targetgroup/magento-app-tg/9d10ed8df838f9fd","connection_termination":null,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200","path":"/var/www/html/magento2/pub/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":null,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f"],"load_balancing_algorithm_type":"round_robin","load_balancing_anomaly_mitigation":"off","load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"magento-app-tg","name_prefix":"","port":8080,"preserve_client_ip":null,"protocol":"HTTP","protocol_version":"HTTP1","proxy_protocol_v2":null,"region":"us-east-1","slow_start":0,"stickiness":[{"cookie_duration":86400,"cookie_name":"","enabled":true,"type":"lb_cookie"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":null,"unhealthy_draining_interval":null}],"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"after":null,"after_unknown":{},"before_sensitive":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]},"after_sensitive":false,"before_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd"}},"action_reason":"delete_because_no_resource_config"},{"address":"module.alb.aws_lb_target_group.app_tg","module_address":"module.alb","mode":"managed","type":"aws_lb_target_group","name":"app_tg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200","path":"/var/www/html/magento2/pub/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"magento-app-tg","port":8080,"protocol":"HTTP","proxy_protocol_v2":false,"region":"us-east-1","slow_start":0,"tags":null,"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"arn_suffix":true,"connection_termination":true,"health_check":[{}],"id":true,"ip_address_type":true,"load_balancer_arns":true,"load_balancing_algorithm_type":true,"load_balancing_anomaly_mitigation":true,"load_balancing_cross_zone_enabled":true,"name_prefix":true,"preserve_client_ip":true,"protocol_version":true,"stickiness":true,"tags_all":true,"target_failover":true,"target_group_health":true,"target_health_state":true},"before_sensitive":false,"after_sensitive":{"health_check":[{}],"load_balancer_arns":[],"stickiness":[],"tags_all":{},"target_failover":[],"target_group_health":[],"target_health_state":[]},"after_identity":{"arn":null}}},{"address":"module.alb.aws_lb_target_group.frontend","module_address":"module.alb","mode":"managed","type":"aws_lb_target_group","name":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-varnish-tg/a2f019021d2ac10f","arn_suffix":"targetgroup/magento-varnish-tg/a2f019021d2ac10f","connection_termination":null,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200","path":"/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-varnish-tg/a2f019021d2ac10f","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":null,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f"],"load_balancing_algorithm_type":"round_robin","load_balancing_anomaly_mitigation":"off","load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"magento-varnish-tg","name_prefix":"","port":80,"preserve_client_ip":null,"protocol":"HTTP","protocol_version":"HTTP1","proxy_protocol_v2":null,"region":"us-east-1","slow_start":0,"stickiness":[{"cookie_duration":86400,"cookie_name":"","enabled":false,"type":"lb_cookie"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":null,"unhealthy_draining_interval":null}],"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"after":null,"after_unknown":{},"before_sensitive":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]},"after_sensitive":false,"before_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-varnish-tg/a2f019021d2ac10f"}},"action_reason":"delete_because_no_resource_config"},{"address":"module.alb.aws_lb_target_group.varnish_tg","module_address":"module.alb","mode":"managed","type":"aws_lb_target_group","name":"varnish_tg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200","path":"/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"magento-varnish-tg","port":80,"protocol":"HTTP","proxy_protocol_v2":false,"region":"us-east-1","slow_start":0,"tags":null,"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"arn_suffix":true,"connection_termination":true,"health_check":[{}],"id":true,"ip_address_type":true,"load_balancer_arns":true,"load_balancing_algorithm_type":true,"load_balancing_anomaly_mitigation":true,"load_balancing_cross_zone_enabled":true,"name_prefix":true,"preserve_client_ip":true,"protocol_version":true,"stickiness":true,"tags_all":true,"target_failover":true,"target_group_health":true,"target_health_state":true},"before_sensitive":false,"after_sensitive":{"health_check":[{}],"load_balancer_arns":[],"stickiness":[],"tags_all":{},"target_failover":[],"target_group_health":[],"target_health_state":[]},"after_identity":{"arn":null}}},{"address":"module.autoscaling_group.aws_autoscaling_attachment.asg_nlb_attachment","module_address":"module.autoscaling_group","mode":"managed","type":"aws_autoscaling_attachment","name":"asg_nlb_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"autoscaling_group_name":"magento-ASG","elb":null,"lb_target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","region":"us-east-1"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.autoscaling_group.aws_autoscaling_group.this","module_address":"module.autoscaling_group","mode":"managed","type":"aws_autoscaling_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:autoscaling:us-east-1:763457559801:autoScalingGroup:fa52ea09-2ae1-4287-849b-db55ca8bbf11:autoScalingGroupName/magento-ASG","availability_zone_distribution":[{"capacity_distribution_strategy":"balanced-best-effort"}],"availability_zones":["us-east-1b","us-east-1c"],"capacity_rebalance":false,"capacity_reservation_specification":[{"capacity_reservation_preference":"default","capacity_reservation_target":[]}],"context":"","default_cooldown":300,"default_instance_warmup":0,"desired_capacity":1,"desired_capacity_type":"","enabled_metrics":[],"force_delete":null,"force_delete_warm_pool":null,"health_check_grace_period":300,"health_check_type":"EC2","id":"magento-ASG","ignore_failed_scaling_activities":null,"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_configuration":"","launch_template":[{"id":"lt-0f9bb2296618bfffe","name":"magento-app-launch-template","version":"2"}],"load_balancers":[],"max_instance_lifetime":0,"max_size":4,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":1,"mixed_instances_policy":[],"name":"magento-ASG","name_prefix":"","placement_group":"","predicted_capacity":0,"protect_from_scale_in":false,"region":"us-east-1","service_linked_role_arn":"arn:aws:iam::763457559801:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling","suspended_processes":[],"tag":[{"key":"Name","propagate_at_launch":true,"value":"Magento APP"}],"target_group_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd"],"termination_policies":[],"timeouts":null,"traffic_source":[{"identifier":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","type":"elbv2"},{"identifier":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","type":"elbv2"}],"vpc_zone_identifier":["subnet-0844e1c7c0062ee6f","subnet-0f1ba7ce386ac9cf9"],"wait_for_capacity_timeout":null,"wait_for_elb_capacity":null,"warm_pool":[],"warm_pool_size":0},"after":{"arn":"arn:aws:autoscaling:us-east-1:763457559801:autoScalingGroup:fa52ea09-2ae1-4287-849b-db55ca8bbf11:autoScalingGroupName/magento-ASG","availability_zone_distribution":[{"capacity_distribution_strategy":"balanced-best-effort"}],"availability_zones":["us-east-1b","us-east-1c"],"capacity_rebalance":false,"capacity_reservation_specification":[{"capacity_reservation_preference":"default","capacity_reservation_target":[]}],"context":"","default_cooldown":300,"default_instance_warmup":0,"desired_capacity":1,"desired_capacity_type":"","enabled_metrics":[],"force_delete":false,"force_delete_warm_pool":false,"health_check_grace_period":300,"health_check_type":"EC2","id":"magento-ASG","ignore_failed_scaling_activities":false,"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_configuration":"","launch_template":[{"name":"magento-app-launch-template"}],"load_balancers":[],"max_instance_lifetime":0,"max_size":4,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":1,"mixed_instances_policy":[],"name":"magento-ASG","name_prefix":"","placement_group":"","predicted_capacity":0,"protect_from_scale_in":false,"region":"us-east-1","service_linked_role_arn":"arn:aws:iam::763457559801:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling","suspended_processes":[],"tag":[{"key":"Name","propagate_at_launch":true,"value":"magento-ASG"}],"target_group_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd"],"termination_policies":[],"timeouts":null,"traffic_source":[{"identifier":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","type":"elbv2"},{"identifier":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","type":"elbv2"}],"vpc_zone_identifier":["subnet-0844e1c7c0062ee6f"],"wait_for_capacity_timeout":"10m","wait_for_elb_capacity":null,"warm_pool":[],"warm_pool_size":0},"after_unknown":{"availability_zone_distribution":[{}],"availability_zones":[false,false],"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"enabled_metrics":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_template":[{"id":true,"version":true}],"load_balancers":[],"mixed_instances_policy":[],"suspended_processes":[],"tag":[{}],"target_group_arns":[false,false],"termination_policies":[],"traffic_source":[{},{}],"vpc_zone_identifier":[false],"warm_pool":[]},"before_sensitive":{"availability_zone_distribution":[{}],"availability_zones":[false,false],"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"enabled_metrics":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_template":[{}],"load_balancers":[],"mixed_instances_policy":[],"suspended_processes":[],"tag":[{}],"target_group_arns":[false,false],"termination_policies":[],"traffic_source":[{},{}],"vpc_zone_identifier":[false,false],"warm_pool":[]},"after_sensitive":{"availability_zone_distribution":[{}],"availability_zones":[false,false],"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"enabled_metrics":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_template":[{}],"load_balancers":[],"mixed_instances_policy":[],"suspended_processes":[],"tag":[{}],"target_group_arns":[false,false],"termination_policies":[],"traffic_source":[{},{}],"vpc_zone_identifier":[false],"warm_pool":[]}}},{"address":"module.bastion_instance.aws_instance.this","module_address":"module.bastion_instance","mode":"managed","type":"aws_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"ami":"ami-0a7d80731ae1b2435","arn":"arn:aws:ec2:us-east-1:763457559801:instance/i-05f4c1103487f3f5c","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"credit_specification":[{"cpu_credits":"standard"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":true,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"force_destroy":null,"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-05f4c1103487f3f5c","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.medium","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"magento-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-005ba8aa90d584e53","private_dns":"ip-10-0-1-41.ec2.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.41","public_dns":"ec2-54-197-238-4.compute-1.amazonaws.com","public_ip":"54.197.238.4","region":"us-east-1","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":300,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0d73e5a3591775626","volume_size":100,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Bastion-Host"},"tags_all":{"Name":"Bastion-Host"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":null,"volume_tags":null,"vpc_security_group_ids":["sg-045371a5988ca6dab"]},"after":{"ami":"ami-0a7d80731ae1b2435","arn":"arn:aws:ec2:us-east-1:763457559801:instance/i-05f4c1103487f3f5c","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"credit_specification":[{"cpu_credits":"standard"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":true,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"force_destroy":false,"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-05f4c1103487f3f5c","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.medium","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"magento-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-005ba8aa90d584e53","private_dns":"ip-10-0-1-41.ec2.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.41","public_dns":"ec2-54-197-238-4.compute-1.amazonaws.com","public_ip":"54.197.238.4","region":"us-east-1","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":300,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0d73e5a3591775626","volume_size":100,"volume_type":"gp3"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Bastion-Host","Role":"Bastion"},"tags_all":{"Name":"Bastion-Host","Role":"Bastion"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"cpu_options":[{}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[{}],"metadata_options":[{}],"network_interface":[],"private_dns_name_options":[{}],"root_block_device":[{"tags":{},"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":true},"before_sensitive":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"cpu_options":[{}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[{}],"metadata_options":[{}],"network_interface":[],"private_dns_name_options":[{}],"root_block_device":[{"tags":{},"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"after_sensitive":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"cpu_options":[{}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[{}],"metadata_options":[{}],"network_interface":[],"private_dns_name_options":[{}],"root_block_device":[{"tags":{},"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"module.efs.aws_efs_file_system.this","module_address":"module.efs","mode":"managed","type":"aws_efs_file_system","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"arn":"arn:aws:elasticfilesystem:us-east-1:763457559801:file-system/fs-009dec8cc4770411b","availability_zone_id":"","availability_zone_name":"","creation_token":"quickCreated-57f5cd13-95bb-455f-9c5c-60e179ac05fe","dns_name":"fs-009dec8cc4770411b.efs.us-east-1.amazonaws.com","encrypted":true,"id":"fs-009dec8cc4770411b","kms_key_id":"arn:aws:kms:us-east-1:763457559801:key/092100bc-8680-4c0e-98d6-0b7cce00b0ff","lifecycle_policy":[{"transition_to_archive":"","transition_to_ia":"AFTER_30_DAYS","transition_to_primary_storage_class":""},{"transition_to_archive":"AFTER_90_DAYS","transition_to_ia":"","transition_to_primary_storage_class":""}],"name":"magento-efs","number_of_mount_targets":2,"owner_id":"763457559801","performance_mode":"generalPurpose","protection":[{"replication_overwrite":"ENABLED"}],"provisioned_throughput_in_mibps":0,"region":"us-east-1","size_in_bytes":[{"value":12288,"value_in_ia":0,"value_in_standard":12288}],"tags":{"Name":"magento-efs"},"tags_all":{"Name":"magento-efs"},"throughput_mode":"elastic"},"after":{"creation_token":"magento-efs","encrypted":true,"lifecycle_policy":[],"provisioned_throughput_in_mibps":null,"region":"us-east-1","tags":{"Name":"magento-efs"},"tags_all":{"Name":"magento-efs"},"throughput_mode":"bursting"},"after_unknown":{"arn":true,"availability_zone_id":true,"availability_zone_name":true,"dns_name":true,"id":true,"kms_key_id":true,"lifecycle_policy":[],"name":true,"number_of_mount_targets":true,"owner_id":true,"performance_mode":true,"protection":true,"size_in_bytes":true,"tags":{},"tags_all":{}},"before_sensitive":{"lifecycle_policy":[{},{}],"protection":[{}],"size_in_bytes":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"lifecycle_policy":[],"protection":[],"size_in_bytes":[],"tags":{},"tags_all":{}},"replace_paths":[["creation_token"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.efs.aws_efs_mount_target.private_subnet_1","module_address":"module.efs","mode":"managed","type":"aws_efs_mount_target","name":"private_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"availability_zone_id":"use1-az6","availability_zone_name":"us-east-1b","dns_name":"fs-009dec8cc4770411b.efs.us-east-1.amazonaws.com","file_system_arn":"arn:aws:elasticfilesystem:us-east-1:763457559801:file-system/fs-009dec8cc4770411b","file_system_id":"fs-009dec8cc4770411b","id":"fsmt-044a94c3672334ae2","ip_address":"10.0.2.219","mount_target_dns_name":"us-east-1b.fs-009dec8cc4770411b.efs.us-east-1.amazonaws.com","network_interface_id":"eni-02117b5e60fbdb5f7","owner_id":"763457559801","region":"us-east-1","security_groups":["sg-0f6ca177cc2116d5f"],"subnet_id":"subnet-0844e1c7c0062ee6f","timeouts":null},"after":{"region":"us-east-1","security_groups":["sg-0f6ca177cc2116d5f"],"subnet_id":"subnet-0844e1c7c0062ee6f","timeouts":null},"after_unknown":{"availability_zone_id":true,"availability_zone_name":true,"dns_name":true,"file_system_arn":true,"file_system_id":true,"id":true,"ip_address":true,"mount_target_dns_name":true,"network_interface_id":true,"owner_id":true,"security_groups":[false]},"before_sensitive":{"security_groups":[false]},"after_sensitive":{"security_groups":[false]},"replace_paths":[["file_system_id"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.efs.aws_efs_mount_target.private_subnet_2","module_address":"module.efs","mode":"managed","type":"aws_efs_mount_target","name":"private_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"availability_zone_id":"use1-az1","availability_zone_name":"us-east-1c","dns_name":"fs-009dec8cc4770411b.efs.us-east-1.amazonaws.com","file_system_arn":"arn:aws:elasticfilesystem:us-east-1:763457559801:file-system/fs-009dec8cc4770411b","file_system_id":"fs-009dec8cc4770411b","id":"fsmt-0f67f5ae74eddc4f6","ip_address":"10.0.3.122","mount_target_dns_name":"us-east-1c.fs-009dec8cc4770411b.efs.us-east-1.amazonaws.com","network_interface_id":"eni-0eb85ca22ce00a389","owner_id":"763457559801","region":"us-east-1","security_groups":["sg-0f6ca177cc2116d5f"],"subnet_id":"subnet-0f1ba7ce386ac9cf9","timeouts":null},"after":{"region":"us-east-1","security_groups":["sg-0f6ca177cc2116d5f"],"subnet_id":"subnet-0f1ba7ce386ac9cf9","timeouts":null},"after_unknown":{"availability_zone_id":true,"availability_zone_name":true,"dns_name":true,"file_system_arn":true,"file_system_id":true,"id":true,"ip_address":true,"mount_target_dns_name":true,"network_interface_id":true,"owner_id":true,"security_groups":[false]},"before_sensitive":{"security_groups":[false]},"after_sensitive":{"security_groups":[false]},"replace_paths":[["file_system_id"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.launch_template.aws_launch_template.app_lt","module_address":"module.launch_template","mode":"managed","type":"aws_launch_template","name":"app_lt","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create","delete"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:launch-template/lt-0f9bb2296618bfffe","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"v2","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{"arn":"arn:aws:iam::763457559801:instance-profile/MagentoAppEC2Role","name":""}],"id":"lt-0f9bb2296618bfffe","image_id":"ami-0b8e82d4253b30093","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"t3.medium","kernel_id":"","key_name":"magento-key","latest_version":2,"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"name":"magento-app-launch-template","name_prefix":"","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","region":"us-east-1","security_group_names":[],"tag_specifications":[],"tags":{},"tags_all":{},"update_default_version":null,"user_data":"","vpc_security_group_ids":["sg-09cf837ea2049c0dc"]},"after":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"description":null,"disable_api_stop":null,"disable_api_termination":null,"ebs_optimized":null,"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"image_id":"ami-035dd7fc60ed66665","instance_initiated_shutdown_behavior":null,"instance_market_options":[],"instance_requirements":[],"instance_type":"t3.medium","kernel_id":null,"key_name":null,"license_specification":[],"maintenance_options":[],"monitoring":[],"name_prefix":"magento-app-lt-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":null,"region":"us-east-1","security_group_names":null,"tag_specifications":[],"tags":null,"update_default_version":null,"user_data":null,"vpc_security_group_ids":null},"after_unknown":{"arn":true,"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":true,"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"id":true,"instance_market_options":[],"instance_requirements":[],"latest_version":true,"license_specification":[],"maintenance_options":[],"metadata_options":true,"monitoring":[],"name":true,"network_interfaces":[],"placement":[],"private_dns_name_options":[],"tag_specifications":[],"tags_all":true},"before_sensitive":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{}],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"after_sensitive":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"tag_specifications":[],"tags_all":{}},"replace_paths":[["name_prefix"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.launch_template.aws_launch_template.this","module_address":"module.launch_template","mode":"managed","type":"aws_launch_template","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"description":null,"disable_api_stop":null,"disable_api_termination":null,"ebs_optimized":null,"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"image_id":"ami-035dd7fc60ed66665","instance_initiated_shutdown_behavior":null,"instance_market_options":[],"instance_requirements":[],"instance_type":"t3.medium","kernel_id":null,"key_name":null,"license_specification":[],"maintenance_options":[],"monitoring":[],"name_prefix":"magento-app-launch-template-","network_interfaces":[{"associate_carrier_ip_address":null,"associate_public_ip_address":"true","connection_tracking_specification":[],"delete_on_termination":null,"description":null,"device_index":null,"ena_srd_specification":[],"interface_type":null,"ipv4_address_count":null,"ipv4_addresses":null,"ipv4_prefix_count":null,"ipv4_prefixes":null,"ipv6_address_count":null,"ipv6_addresses":null,"ipv6_prefix_count":null,"ipv6_prefixes":null,"network_card_index":null,"network_interface_id":null,"primary_ipv6":null,"private_ip_address":null,"security_groups":["sg-09cf837ea2049c0dc"],"subnet_id":null}],"placement":[],"private_dns_name_options":[],"ram_disk_id":null,"region":"us-east-1","security_group_names":null,"tag_specifications":[],"tags":null,"update_default_version":null,"user_data":"","vpc_security_group_ids":null},"after_unknown":{"arn":true,"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":true,"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"id":true,"instance_market_options":[],"instance_requirements":[],"latest_version":true,"license_specification":[],"maintenance_options":[],"metadata_options":true,"monitoring":[],"name":true,"network_interfaces":[{"connection_tracking_specification":[],"ena_srd_specification":[],"security_groups":[false]}],"placement":[],"private_dns_name_options":[],"tag_specifications":[],"tags_all":true},"before_sensitive":false,"after_sensitive":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[{"connection_tracking_specification":[],"ena_srd_specification":[],"security_groups":[false]}],"placement":[],"private_dns_name_options":[],"tag_specifications":[],"tags_all":{}}}},{"address":"module.nlb.aws_lb.this","module_address":"module.nlb","mode":"managed","type":"aws_lb","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","arn_suffix":"net/magento-app-nlb/2f3135bb6f3bd957","client_keep_alive":null,"connection_logs":[],"customer_owned_ipv4_pool":"","desync_mitigation_mode":null,"dns_name":"magento-app-nlb-2f3135bb6f3bd957.elb.us-east-1.amazonaws.com","dns_record_client_routing_policy":"any_availability_zone","drop_invalid_header_fields":null,"enable_cross_zone_load_balancing":false,"enable_deletion_protection":false,"enable_http2":null,"enable_tls_version_and_cipher_suite_headers":null,"enable_waf_fail_open":null,"enable_xff_client_port":null,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","idle_timeout":null,"internal":true,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"network","minimum_load_balancer_capacity":[],"name":"magento-app-nlb","name_prefix":"","preserve_host_header":null,"region":"us-east-1","security_groups":["sg-0bb26111522191e4d"],"subnet_mapping":[{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0844e1c7c0062ee6f"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0f1ba7ce386ac9cf9"}],"subnets":["subnet-0844e1c7c0062ee6f","subnet-0f1ba7ce386ac9cf9"],"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe","xff_header_processing_mode":null,"zone_id":"Z26RNL4JYFTOTI"},"after":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","arn_suffix":"net/magento-app-nlb/2f3135bb6f3bd957","client_keep_alive":null,"connection_logs":[],"customer_owned_ipv4_pool":"","desync_mitigation_mode":null,"dns_name":"magento-app-nlb-2f3135bb6f3bd957.elb.us-east-1.amazonaws.com","dns_record_client_routing_policy":"any_availability_zone","drop_invalid_header_fields":null,"enable_cross_zone_load_balancing":false,"enable_deletion_protection":false,"enable_http2":null,"enable_tls_version_and_cipher_suite_headers":null,"enable_waf_fail_open":null,"enable_xff_client_port":null,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","idle_timeout":null,"internal":true,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"network","minimum_load_balancer_capacity":[],"name":"magento-app-nlb","name_prefix":"","preserve_host_header":null,"region":"us-east-1","security_groups":["sg-0bb26111522191e4d"],"subnet_mapping":[{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0844e1c7c0062ee6f"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0f1ba7ce386ac9cf9"}],"subnets":["subnet-0844e1c7c0062ee6f","subnet-0f1ba7ce386ac9cf9"],"tags":{"Name":"magento-app-nlb"},"tags_all":{"Name":"magento-app-nlb"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe","xff_header_processing_mode":null,"zone_id":"Z26RNL4JYFTOTI"},"after_unknown":{},"before_sensitive":{"access_logs":[{}],"connection_logs":[],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[{},{}],"subnets":[false,false],"tags":{},"tags_all":{}},"after_sensitive":{"access_logs":[{}],"connection_logs":[],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[{},{}],"subnets":[false,false],"tags":{},"tags_all":{}},"before_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957"},"after_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957"}}},{"address":"module.nlb.aws_lb_listener.tcp_8080","module_address":"module.nlb","mode":"managed","type":"aws_lb_listener","name":"tcp_8080","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[],"target_group":[{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","weight":0}]}],"order":0,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","mutual_authentication":[],"port":8080,"protocol":"TCP","region":"us-east-1","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":null,"routing_http_response_access_control_allow_headers_header_value":null,"routing_http_response_access_control_allow_methods_header_value":null,"routing_http_response_access_control_allow_origin_header_value":null,"routing_http_response_access_control_expose_headers_header_value":null,"routing_http_response_access_control_max_age_header_value":null,"routing_http_response_content_security_policy_header_value":null,"routing_http_response_server_enabled":null,"routing_http_response_strict_transport_security_header_value":null,"routing_http_response_x_content_type_options_header_value":null,"routing_http_response_x_frame_options_header_value":null,"ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":350,"timeouts":null},"after":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":0,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","mutual_authentication":[],"port":8080,"protocol":"TCP","region":"us-east-1","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":null,"routing_http_response_access_control_allow_headers_header_value":null,"routing_http_response_access_control_allow_methods_header_value":null,"routing_http_response_access_control_allow_origin_header_value":null,"routing_http_response_access_control_expose_headers_header_value":null,"routing_http_response_access_control_max_age_header_value":null,"routing_http_response_content_security_policy_header_value":null,"routing_http_response_server_enabled":null,"routing_http_response_strict_transport_security_header_value":null,"routing_http_response_x_content_type_options_header_value":null,"routing_http_response_x_frame_options_header_value":null,"ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":350,"timeouts":null},"after_unknown":{},"before_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[],"target_group":[{}]}],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}},"after_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}},"before_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac"},"after_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac"}}},{"address":"module.nlb.aws_lb_target_group.app_nlb_tg","module_address":"module.nlb","mode":"managed","type":"aws_lb_target_group","name":"app_nlb_tg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","arn_suffix":"targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","connection_termination":false,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200-399","path":"/var/www/html/magento2/pub/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":6,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":null,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957"],"load_balancing_algorithm_type":null,"load_balancing_anomaly_mitigation":null,"load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"magento-app-nlb-tg","name_prefix":"","port":8080,"preserve_client_ip":"true","protocol":"TCP","protocol_version":null,"proxy_protocol_v2":false,"region":"us-east-1","slow_start":null,"stickiness":[{"cookie_duration":0,"cookie_name":"","enabled":false,"type":"source_ip"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":true,"unhealthy_draining_interval":0}],"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","arn_suffix":"targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","connection_termination":false,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200-399","path":"/var/www/html/magento2/pub/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":6,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":null,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957"],"load_balancing_algorithm_type":null,"load_balancing_anomaly_mitigation":null,"load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"magento-app-nlb-tg","name_prefix":"","port":8080,"preserve_client_ip":"true","protocol":"TCP","protocol_version":null,"proxy_protocol_v2":false,"region":"us-east-1","slow_start":null,"stickiness":[{"cookie_duration":0,"cookie_name":"","enabled":false,"type":"source_ip"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":true,"unhealthy_draining_interval":0}],"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{},"before_sensitive":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]},"after_sensitive":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]},"before_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d"},"after_identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d"}}},{"address":"module.rds.aws_db_instance.this","module_address":"module.rds","mode":"managed","type":"aws_db_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"address":"magento-rds.c4x2mqmga92y.us-east-1.rds.amazonaws.com","allocated_storage":200,"allow_major_version_upgrade":null,"apply_immediately":null,"arn":"arn:aws:rds:us-east-1:763457559801:db:magento-rds","auto_minor_version_upgrade":true,"availability_zone":"us-east-1b","backup_retention_period":7,"backup_target":"region","backup_window":"07:29-07:59","blue_green_update":[],"ca_cert_identifier":"rds-ca-rsa2048-g1","character_set_name":"","copy_tags_to_snapshot":true,"custom_iam_instance_profile":"","customer_owned_ip_enabled":false,"database_insights_mode":"standard","db_name":"magento","db_subnet_group_name":"default-vpc-097b04327a4c3cbbe","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_auth_secret_arn":"","domain_dns_ips":[],"domain_fqdn":"","domain_iam_role_name":"","domain_ou":"","enabled_cloudwatch_logs_exports":[],"endpoint":"magento-rds.c4x2mqmga92y.us-east-1.rds.amazonaws.com:3306","engine":"mysql","engine_lifecycle_support":"open-source-rds-extended-support-disabled","engine_version":"8.0.40","engine_version_actual":"8.0.40","final_snapshot_identifier":null,"hosted_zone_id":"Z2R2ITUGPM61AM","iam_database_authentication_enabled":false,"id":"db-AKRSOSRG7GIRTNLPZOTDFBHCEM","identifier":"magento-rds","identifier_prefix":"","instance_class":"db.m5.xlarge","iops":3000,"kms_key_id":"arn:aws:kms:us-east-1:763457559801:key/846e213a-9c2b-4e34-a6c3-82a54d13d52c","latest_restorable_time":"2025-08-08T18:00:00Z","license_model":"general-public-license","listener_endpoint":[],"maintenance_window":"fri:04:52-fri:05:22","manage_master_user_password":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"max_allocated_storage":1000,"monitoring_interval":60,"monitoring_role_arn":"arn:aws:iam::763457559801:role/rds-monitoring-role","multi_az":false,"nchar_character_set_name":"","network_type":"IPV4","option_group_name":"default:mysql-8-0","parameter_group_name":"default.mysql8.0","password":null,"password_wo":null,"password_wo_version":null,"performance_insights_enabled":true,"performance_insights_kms_key_id":"arn:aws:kms:us-east-1:763457559801:key/846e213a-9c2b-4e34-a6c3-82a54d13d52c","performance_insights_retention_period":7,"port":3306,"publicly_accessible":false,"region":"us-east-1","replica_mode":"","replicas":[],"replicate_source_db":"","resource_id":"db-AKRSOSRG7GIRTNLPZOTDFBHCEM","restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"snapshot_identifier":null,"status":"available","storage_encrypted":true,"storage_throughput":125,"storage_type":"gp3","tags":{},"tags_all":{},"timeouts":null,"timezone":"","upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0d05e04f7b4602fff"]},"after":{"allocated_storage":50,"allow_major_version_upgrade":null,"apply_immediately":false,"auto_minor_version_upgrade":true,"blue_green_update":[],"copy_tags_to_snapshot":false,"custom_iam_instance_profile":null,"customer_owned_ip_enabled":null,"db_name":"magento","db_subnet_group_name":"default-vpc-097b04327a4c3cbbe","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":null,"domain_auth_secret_arn":null,"domain_dns_ips":null,"domain_iam_role_name":null,"domain_ou":null,"enabled_cloudwatch_logs_exports":null,"engine":"mysql","engine_version":"8.0","final_snapshot_identifier":null,"iam_database_authentication_enabled":null,"identifier":"magento-rds","instance_class":"db.m5.xlarge","manage_master_user_password":null,"max_allocated_storage":null,"monitoring_interval":0,"multi_az":false,"password":"codilar1234","password_wo":null,"password_wo_version":null,"performance_insights_enabled":false,"publicly_accessible":false,"region":"us-east-1","replicate_source_db":null,"restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"storage_encrypted":null,"tags":{"Application":"Magento","Environment":"Production","Name":"magento-rds"},"tags_all":{"Application":"Magento","Environment":"Production","Name":"magento-rds"},"timeouts":null,"upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0d05e04f7b4602fff"]},"after_unknown":{"address":true,"arn":true,"availability_zone":true,"backup_retention_period":true,"backup_target":true,"backup_window":true,"blue_green_update":[],"ca_cert_identifier":true,"character_set_name":true,"database_insights_mode":true,"domain_fqdn":true,"endpoint":true,"engine_lifecycle_support":true,"engine_version_actual":true,"hosted_zone_id":true,"id":true,"identifier_prefix":true,"iops":true,"kms_key_id":true,"latest_restorable_time":true,"license_model":true,"listener_endpoint":true,"maintenance_window":true,"master_user_secret":true,"master_user_secret_kms_key_id":true,"monitoring_role_arn":true,"nchar_character_set_name":true,"network_type":true,"option_group_name":true,"parameter_group_name":true,"performance_insights_kms_key_id":true,"performance_insights_retention_period":true,"port":true,"replica_mode":true,"replicas":true,"resource_id":true,"restore_to_point_in_time":[],"s3_import":[],"snapshot_identifier":true,"status":true,"storage_throughput":true,"storage_type":true,"tags":{},"tags_all":{},"timezone":true,"vpc_security_group_ids":[false]},"before_sensitive":{"blue_green_update":[],"domain_dns_ips":[],"enabled_cloudwatch_logs_exports":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"after_sensitive":{"blue_green_update":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"username":true,"vpc_security_group_ids":[false]},"replace_paths":[["storage_encrypted"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.security_groups.aws_security_group.alb_sg","module_address":"module.security_groups","mode":"managed","type":"aws_security_group","name":"alb_sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Allow HTTP traffic to ALB","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"ALB-SG","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"ALB-SG"},"tags_all":{"Name":"ALB-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"module.security_groups.aws_security_group.app","module_address":"module.security_groups","mode":"managed","type":"aws_security_group","name":"app","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-0d05e04f7b4602fff","description":"RDS-SG","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0d05e04f7b4602fff","ingress":[{"cidr_blocks":[],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-09cf837ea2049c0dc"],"self":false,"to_port":3306}],"name":"RDS-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"description":"Allow traffic from Varnish, EFS, RDS, Bastion","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.1.0/24","10.0.2.0/24","10.0.3.0/24"],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306},{"cidr_blocks":["10.0.1.0/24"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["10.0.1.0/24"],"description":"","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["10.0.1.0/24"],"description":"","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080},{"cidr_blocks":["10.0.1.0/24"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80},{"cidr_blocks":["10.0.1.0/24"],"description":"","from_port":9200,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":9200},{"cidr_blocks":["10.0.2.0/24","10.0.3.0/24"],"description":"","from_port":2049,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":2049},{"cidr_blocks":["18.214.123.55/32"],"description":"","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080}],"name":"app-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"App-SG"},"tags_all":{"Name":"App-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false,false,false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false,false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false,false,false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false,false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"replace_paths":[["name"],["description"]],"before_identity":{"account_id":"763457559801","id":"sg-0d05e04f7b4602fff","region":"us-east-1"},"after_identity":{"account_id":"763457559801","id":"sg-0d05e04f7b4602fff","region":"us-east-1"}},"action_reason":"replace_because_cannot_update"},{"address":"module.security_groups.aws_security_group.bastion","module_address":"module.security_groups","mode":"managed","type":"aws_security_group","name":"bastion","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-045371a5988ca6dab","description":"SSH access from office IP","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-045371a5988ca6dab","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Jenkins","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080},{"cidr_blocks":["103.2.234.168/32"],"description":"SSH access from office IP","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"Bastion-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"description":"Allow SSH and 8080 from admin IP","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080},{"cidr_blocks":["106.51.80.19/32"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"bastion-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"Bastion-SG"},"tags_all":{"Name":"Bastion-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"replace_paths":[["name"],["description"]],"before_identity":{"account_id":"763457559801","id":"sg-045371a5988ca6dab","region":"us-east-1"},"after_identity":{"account_id":"763457559801","id":"sg-045371a5988ca6dab","region":"us-east-1"}},"action_reason":"replace_because_cannot_update"},{"address":"module.security_groups.aws_security_group.efs","module_address":"module.security_groups","mode":"managed","type":"aws_security_group","name":"efs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-0f6ca177cc2116d5f","description":"EFS-SG","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0f6ca177cc2116d5f","ingress":[{"cidr_blocks":[],"description":"","from_port":2049,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-09cf837ea2049c0dc"],"self":false,"to_port":2049}],"name":"EFS-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"description":"Allow NFS from App","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.2.0/24"],"description":"","from_port":2049,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":2049}],"name":"efs-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"EFS-SG"},"tags_all":{"Name":"EFS-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"replace_paths":[["name"],["description"]],"before_identity":{"account_id":"763457559801","id":"sg-0f6ca177cc2116d5f","region":"us-east-1"},"after_identity":{"account_id":"763457559801","id":"sg-0f6ca177cc2116d5f","region":"us-east-1"}},"action_reason":"replace_because_cannot_update"},{"address":"module.security_groups.aws_security_group.rds","module_address":"module.security_groups","mode":"managed","type":"aws_security_group","name":"rds","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-0d05e04f7b4602fff","description":"RDS-SG","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0d05e04f7b4602fff","ingress":[{"cidr_blocks":[],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-09cf837ea2049c0dc"],"self":false,"to_port":3306}],"name":"RDS-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"description":"Allow MySQL from App","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.2.0/24"],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306}],"name":"rds-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"RDS-SG"},"tags_all":{"Name":"RDS-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"replace_paths":[["name"],["description"]],"before_identity":{"account_id":"763457559801","id":"sg-0d05e04f7b4602fff","region":"us-east-1"},"after_identity":{"account_id":"763457559801","id":"sg-0d05e04f7b4602fff","region":"us-east-1"}},"action_reason":"replace_because_cannot_update"},{"address":"module.security_groups.aws_security_group.varnish","module_address":"module.security_groups","mode":"managed","type":"aws_security_group","name":"varnish","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-0bb26111522191e4d","description":"Varnish-SG","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0bb26111522191e4d","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"Varnish-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"description":"Allow all traffic (adjust later)","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"varnish-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"Varnish-SG"},"tags_all":{"Name":"Varnish-SG"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"replace_paths":[["name"],["description"]],"before_identity":{"account_id":"763457559801","id":"sg-0bb26111522191e4d","region":"us-east-1"},"after_identity":{"account_id":"763457559801","id":"sg-0bb26111522191e4d","region":"us-east-1"}},"action_reason":"replace_because_cannot_update"},{"address":"module.varnish_instance.aws_instance.this","module_address":"module.varnish_instance","mode":"managed","type":"aws_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"ami":"ami-0a7d80731ae1b2435","arn":"arn:aws:ec2:us-east-1:763457559801:instance/i-06a56d2e6b1267d08","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":true,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"force_destroy":null,"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-06a56d2e6b1267d08","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.medium","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"magento-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0831543a6dc4426e2","private_dns":"ip-10-0-1-181.ec2.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.181","public_dns":"ec2-54-92-201-253.compute-1.amazonaws.com","public_ip":"54.92.201.253","region":"us-east-1","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0da059d843baf1131","volume_size":20,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Varnish Server"},"tags_all":{"Name":"Varnish Server"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":null,"volume_tags":null,"vpc_security_group_ids":["sg-0bb26111522191e4d"]},"after":{"ami":"ami-0a7d80731ae1b2435","associate_public_ip_address":true,"credit_specification":[],"force_destroy":false,"get_password_data":false,"hibernation":null,"instance_type":"t3.medium","key_name":"magento-key","launch_template":[],"region":"us-east-1","root_block_device":[{"delete_on_termination":true,"tags":null,"volume_size":100,"volume_type":"gp3"}],"source_dest_check":true,"subnet_id":"subnet-0e435f008db8b42b6","tags":{"Name":"Varnish-Server","Role":"Varnish"},"tags_all":{"Name":"Varnish-Server","Role":"Varnish"},"timeouts":null,"user_data":null,"user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_options":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enable_primary_ipv6":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"host_resource_group_arn":true,"iam_instance_profile":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_lifecycle":true,"instance_market_options":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":[{"device_name":true,"encrypted":true,"iops":true,"kms_key_id":true,"tags_all":true,"throughput":true,"volume_id":true}],"secondary_private_ips":true,"security_groups":true,"spot_instance_request_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"cpu_options":[{}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[{}],"metadata_options":[{}],"network_interface":[],"private_dns_name_options":[{}],"root_block_device":[{"tags":{},"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"after_sensitive":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[{"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]},"replace_paths":[["subnet_id"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.vpc_networking.aws_eip.nat_eip","module_address":"module.vpc_networking","mode":"managed","type":"aws_eip","name":"nat_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"address":null,"allocation_id":"eipalloc-09384b23a2b579040","arn":"arn:aws:ec2:us-east-1:763457559801:elastic-ip/eipalloc-09384b23a2b579040","associate_with_private_ip":null,"association_id":"eipassoc-049036624d56cb6d9","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-09384b23a2b579040","instance":"","ipam_pool_id":null,"network_border_group":"us-east-1","network_interface":"eni-0b9713c62357fb84d","private_dns":"ip-10-0-1-154.ec2.internal","private_ip":"10.0.1.154","ptr_record":"","public_dns":"ec2-44-214-62-155.compute-1.amazonaws.com","public_ip":"44.214.62.155","public_ipv4_pool":"amazon","region":"us-east-1","tags":{},"tags_all":{},"timeouts":null},"after":{"address":null,"allocation_id":"eipalloc-09384b23a2b579040","arn":"arn:aws:ec2:us-east-1:763457559801:elastic-ip/eipalloc-09384b23a2b579040","associate_with_private_ip":null,"association_id":"eipassoc-049036624d56cb6d9","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-09384b23a2b579040","instance":"","ipam_pool_id":null,"network_border_group":"us-east-1","network_interface":"eni-0b9713c62357fb84d","private_dns":"ip-10-0-1-154.ec2.internal","private_ip":"10.0.1.154","ptr_record":"","public_dns":"ec2-44-214-62-155.compute-1.amazonaws.com","public_ip":"44.214.62.155","public_ipv4_pool":"amazon","region":"us-east-1","tags":{"Name":"nat-eip"},"tags_all":{"Name":"nat-eip"},"timeouts":null},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc_networking.aws_internet_gateway.igw","module_address":"module.vpc_networking","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:internet-gateway/igw-0612fd51f41716ecc","id":"igw-0612fd51f41716ecc","owner_id":"763457559801","region":"us-east-1","tags":{"Name":"Magento-IGW"},"tags_all":{"Name":"Magento-IGW"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"arn":"arn:aws:ec2:us-east-1:763457559801:internet-gateway/igw-0612fd51f41716ecc","id":"igw-0612fd51f41716ecc","owner_id":"763457559801","region":"us-east-1","tags":{"Name":"Magento-IGW"},"tags_all":{"Name":"Magento-IGW"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc_networking.aws_nat_gateway.nat","module_address":"module.vpc_networking","mode":"managed","type":"aws_nat_gateway","name":"nat","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"allocation_id":"eipalloc-09384b23a2b579040","association_id":"eipassoc-049036624d56cb6d9","connectivity_type":"public","id":"nat-06d5248f0917c82e0","network_interface_id":"eni-0b9713c62357fb84d","private_ip":"10.0.1.154","public_ip":"44.214.62.155","region":"us-east-1","secondary_allocation_ids":[],"secondary_private_ip_address_count":0,"secondary_private_ip_addresses":[],"subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Magento-NAT"},"tags_all":{"Name":"Magento-NAT"},"timeouts":null},"after":{"allocation_id":"eipalloc-09384b23a2b579040","association_id":"eipassoc-049036624d56cb6d9","connectivity_type":"public","id":"nat-06d5248f0917c82e0","network_interface_id":"eni-0b9713c62357fb84d","private_ip":"10.0.1.154","public_ip":"44.214.62.155","region":"us-east-1","secondary_allocation_ids":[],"secondary_private_ip_address_count":0,"secondary_private_ip_addresses":[],"subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Magento-NAT"},"tags_all":{"Name":"Magento-NAT"},"timeouts":null},"after_unknown":{},"before_sensitive":{"secondary_allocation_ids":[],"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}},"after_sensitive":{"secondary_allocation_ids":[],"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}}},{"address":"module.vpc_networking.aws_route_table.private","module_address":"module.vpc_networking","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:route-table/rtb-054046a7dfa23c4b6","id":"rtb-054046a7dfa23c4b6","owner_id":"763457559801","propagating_vgws":[],"region":"us-east-1","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-06d5248f0917c82e0","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"Private-RT"},"tags_all":{"Name":"Private-RT"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"arn":"arn:aws:ec2:us-east-1:763457559801:route-table/rtb-054046a7dfa23c4b6","id":"rtb-054046a7dfa23c4b6","owner_id":"763457559801","propagating_vgws":[],"region":"us-east-1","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-06d5248f0917c82e0","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"Private-RT"},"tags_all":{"Name":"Private-RT"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{},"before_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.vpc_networking.aws_route_table.public","module_address":"module.vpc_networking","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:route-table/rtb-0c68e107ffea7a940","id":"rtb-0c68e107ffea7a940","owner_id":"763457559801","propagating_vgws":[],"region":"us-east-1","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0612fd51f41716ecc","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"Public-RT"},"tags_all":{"Name":"Public-RT"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"arn":"arn:aws:ec2:us-east-1:763457559801:route-table/rtb-0c68e107ffea7a940","id":"rtb-0c68e107ffea7a940","owner_id":"763457559801","propagating_vgws":[],"region":"us-east-1","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0612fd51f41716ecc","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"Public-RT"},"tags_all":{"Name":"Public-RT"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{},"before_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.vpc_networking.aws_route_table_association.private_app","module_address":"module.vpc_networking","mode":"managed","type":"aws_route_table_association","name":"private_app","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"gateway_id":"","id":"rtbassoc-081829b1abd0445b9","region":"us-east-1","route_table_id":"rtb-054046a7dfa23c4b6","subnet_id":"subnet-0844e1c7c0062ee6f","timeouts":null},"after":{"gateway_id":null,"region":"us-east-1","route_table_id":"rtb-054046a7dfa23c4b6","timeouts":null},"after_unknown":{"id":true,"subnet_id":true},"before_sensitive":{},"after_sensitive":{},"replace_paths":[["subnet_id"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.vpc_networking.aws_route_table_association.private_db","module_address":"module.vpc_networking","mode":"managed","type":"aws_route_table_association","name":"private_db","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"gateway_id":"","id":"rtbassoc-002391e32899df090","region":"us-east-1","route_table_id":"rtb-054046a7dfa23c4b6","subnet_id":"subnet-0f1ba7ce386ac9cf9","timeouts":null},"after":{"gateway_id":null,"region":"us-east-1","route_table_id":"rtb-054046a7dfa23c4b6","timeouts":null},"after_unknown":{"id":true,"subnet_id":true},"before_sensitive":{},"after_sensitive":{},"replace_paths":[["subnet_id"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.vpc_networking.aws_route_table_association.public_1","module_address":"module.vpc_networking","mode":"managed","type":"aws_route_table_association","name":"public_1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":"","id":"rtbassoc-0d310d0fb411509b7","region":"us-east-1","route_table_id":"rtb-0c68e107ffea7a940","subnet_id":"subnet-07ac857e4cadec4a0","timeouts":null},"after":{"gateway_id":"","id":"rtbassoc-0d310d0fb411509b7","region":"us-east-1","route_table_id":"rtb-0c68e107ffea7a940","subnet_id":"subnet-07ac857e4cadec4a0","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc_networking.aws_route_table_association.public_2","module_address":"module.vpc_networking","mode":"managed","type":"aws_route_table_association","name":"public_2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"gateway_id":"","id":"rtbassoc-029b59c5032d4b5b4","region":"us-east-1","route_table_id":"rtb-0c68e107ffea7a940","subnet_id":"subnet-0e435f008db8b42b6","timeouts":null},"after":{"gateway_id":null,"region":"us-east-1","route_table_id":"rtb-0c68e107ffea7a940","timeouts":null},"after_unknown":{"id":true,"subnet_id":true},"before_sensitive":{},"after_sensitive":{},"replace_paths":[["subnet_id"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.vpc_networking.aws_subnet.private_app","module_address":"module.vpc_networking","mode":"managed","type":"aws_subnet","name":"private_app","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:subnet/subnet-0844e1c7c0062ee6f","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az6","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0844e1c7c0062ee6f","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"763457559801","private_dns_hostname_type_on_launch":"ip-name","region":"us-east-1","tags":{"Name":"Private-App-Subnet"},"tags_all":{"Name":"Private-App-Subnet"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"Private-App-Subnet"},"tags_all":{"Name":"Private-App-Subnet"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{}},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}},"replace_paths":[["availability_zone"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.vpc_networking.aws_subnet.private_db","module_address":"module.vpc_networking","mode":"managed","type":"aws_subnet","name":"private_db","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:subnet/subnet-0f1ba7ce386ac9cf9","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1c","availability_zone_id":"use1-az1","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0f1ba7ce386ac9cf9","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"763457559801","private_dns_hostname_type_on_launch":"ip-name","region":"us-east-1","tags":{"Name":"Private-DB-Subnet"},"tags_all":{"Name":"Private-DB-Subnet"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"Private-DB-Subnet"},"tags_all":{"Name":"Private-DB-Subnet"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{}},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}},"replace_paths":[["availability_zone"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.vpc_networking.aws_subnet.public_1","module_address":"module.vpc_networking","mode":"managed","type":"aws_subnet","name":"public_1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:subnet/subnet-07ac857e4cadec4a0","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az4","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-07ac857e4cadec4a0","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"763457559801","private_dns_hostname_type_on_launch":"ip-name","region":"us-east-1","tags":{"Name":"Public-Subnet"},"tags_all":{"Name":"Public-Subnet"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"arn":"arn:aws:ec2:us-east-1:763457559801:subnet/subnet-07ac857e4cadec4a0","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az4","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-07ac857e4cadec4a0","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"763457559801","private_dns_hostname_type_on_launch":"ip-name","region":"us-east-1","tags":{"Name":"Public-Subnet-1"},"tags_all":{"Name":"Public-Subnet-1"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc_networking.aws_subnet.public_2","module_address":"module.vpc_networking","mode":"managed","type":"aws_subnet","name":"public_2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete","create"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:subnet/subnet-0e435f008db8b42b6","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1d","availability_zone_id":"use1-az2","cidr_block":"10.0.4.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0e435f008db8b42b6","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"763457559801","private_dns_hostname_type_on_launch":"ip-name","region":"us-east-1","tags":{"Name":"public-subnet-2"},"tags_all":{"Name":"public-subnet-2"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.4.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"Public-Subnet-2"},"tags_all":{"Name":"Public-Subnet-2"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{}},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}},"replace_paths":[["availability_zone"]]},"action_reason":"replace_because_cannot_update"},{"address":"module.vpc_networking.aws_vpc.this","module_address":"module.vpc_networking","mode":"managed","type":"aws_vpc","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:763457559801:vpc/vpc-097b04327a4c3cbbe","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0faa098894ae9bbea","default_route_table_id":"rtb-088f60ea162c83cd5","default_security_group_id":"sg-0235abd9abdecfd5e","dhcp_options_id":"dopt-0456762e9a97fa9dd","enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-097b04327a4c3cbbe","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-088f60ea162c83cd5","owner_id":"763457559801","region":"us-east-1","tags":{"Name":"Magento-VPC"},"tags_all":{"Name":"Magento-VPC"}},"after":{"arn":"arn:aws:ec2:us-east-1:763457559801:vpc/vpc-097b04327a4c3cbbe","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0faa098894ae9bbea","default_route_table_id":"rtb-088f60ea162c83cd5","default_security_group_id":"sg-0235abd9abdecfd5e","dhcp_options_id":"dopt-0456762e9a97fa9dd","enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-097b04327a4c3cbbe","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-088f60ea162c83cd5","owner_id":"763457559801","region":"us-east-1","tags":{"Name":"Magento-VPC"},"tags_all":{"Name":"Magento-VPC"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.12.2","values":{"root_module":{"child_modules":[{"resources":[{"address":"module.alb.aws_lb.this","mode":"managed","type":"aws_lb","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","arn_suffix":"app/Magento-ALB/d0d949a23238bb2f","client_keep_alive":3600,"connection_logs":[{"bucket":"","enabled":false,"prefix":""}],"customer_owned_ipv4_pool":"","desync_mitigation_mode":"defensive","dns_name":"Magento-ALB-135177245.us-east-1.elb.amazonaws.com","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"application","minimum_load_balancer_capacity":[],"name":"Magento-ALB","name_prefix":"","preserve_host_header":false,"region":"us-east-1","security_groups":["sg-0bb26111522191e4d"],"subnet_mapping":[{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-07ac857e4cadec4a0"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0844e1c7c0062ee6f"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0e435f008db8b42b6"}],"subnets":["subnet-07ac857e4cadec4a0","subnet-0844e1c7c0062ee6f","subnet-0e435f008db8b42b6"],"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe","xff_header_processing_mode":"append","zone_id":"Z35SXDOTRQ7X7K"},"sensitive_values":{"access_logs":[{}],"connection_logs":[{}],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[{},{},{}],"subnets":[false,false,false],"tags":{},"tags_all":{}},"depends_on":["module.security_groups.aws_security_group.alb_sg","module.vpc_networking.aws_subnet.public_1","module.vpc_networking.aws_subnet.public_2","module.vpc_networking.aws_vpc.this"],"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f"}},{"address":"module.alb.aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{"duration":3600,"enabled":false}],"target_group":[{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-varnish-tg/a2f019021d2ac10f","weight":1}]}],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-varnish-tg/a2f019021d2ac10f","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f","mutual_authentication":[],"port":80,"protocol":"HTTP","region":"us-east-1","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":"","routing_http_response_access_control_allow_headers_header_value":"","routing_http_response_access_control_allow_methods_header_value":"","routing_http_response_access_control_allow_origin_header_value":"","routing_http_response_access_control_expose_headers_header_value":"","routing_http_response_access_control_max_age_header_value":"","routing_http_response_content_security_policy_header_value":"","routing_http_response_server_enabled":true,"routing_http_response_strict_transport_security_header_value":"","routing_http_response_x_content_type_options_header_value":"","routing_http_response_x_frame_options_header_value":"","ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":null,"timeouts":null},"sensitive_values":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{}],"target_group":[{}]}],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}},"depends_on":["module.alb.aws_lb.this","module.alb.aws_lb_target_group.varnish_tg","module.security_groups.aws_security_group.alb_sg","module.vpc_networking.aws_subnet.public_1","module.vpc_networking.aws_subnet.public_2","module.vpc_networking.aws_vpc.this"],"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860"}},{"address":"module.alb.aws_lb_listener_rule.admin_rule","mode":"managed","type":"aws_lb_listener_rule","name":"admin_rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{"duration":3600,"enabled":false}],"target_group":[{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","weight":1}]}],"order":1,"redirect":[],"target_group_arn":"","type":"forward"}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["/admin*"]}],"query_string":[],"source_ip":[]}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818","listener_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860","priority":1,"region":"us-east-1","tags":{},"tags_all":{}},"sensitive_values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[{}],"target_group":[{}]}],"redirect":[]}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":[false]}],"query_string":[],"source_ip":[]}],"tags":{},"tags_all":{}},"depends_on":["module.alb.aws_lb.this","module.alb.aws_lb_listener.http","module.alb.aws_lb_target_group.app_tg","module.alb.aws_lb_target_group.varnish_tg","module.security_groups.aws_security_group.alb_sg","module.vpc_networking.aws_subnet.public_1","module.vpc_networking.aws_subnet.public_2","module.vpc_networking.aws_vpc.this"],"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener-rule/app/Magento-ALB/d0d949a23238bb2f/9039dd4b17365860/5f8de33e3971e818"}},{"address":"module.alb.aws_lb_target_group.admin","mode":"managed","type":"aws_lb_target_group","name":"admin","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","arn_suffix":"targetgroup/magento-app-tg/9d10ed8df838f9fd","connection_termination":null,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200","path":"/var/www/html/magento2/pub/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":null,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f"],"load_balancing_algorithm_type":"round_robin","load_balancing_anomaly_mitigation":"off","load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"magento-app-tg","name_prefix":"","port":8080,"preserve_client_ip":null,"protocol":"HTTP","protocol_version":"HTTP1","proxy_protocol_v2":null,"region":"us-east-1","slow_start":0,"stickiness":[{"cookie_duration":86400,"cookie_name":"","enabled":true,"type":"lb_cookie"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":null,"unhealthy_draining_interval":null}],"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]},"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd"}},{"address":"module.alb.aws_lb_target_group.frontend","mode":"managed","type":"aws_lb_target_group","name":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-varnish-tg/a2f019021d2ac10f","arn_suffix":"targetgroup/magento-varnish-tg/a2f019021d2ac10f","connection_termination":null,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200","path":"/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-varnish-tg/a2f019021d2ac10f","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":null,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/app/Magento-ALB/d0d949a23238bb2f"],"load_balancing_algorithm_type":"round_robin","load_balancing_anomaly_mitigation":"off","load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"magento-varnish-tg","name_prefix":"","port":80,"preserve_client_ip":null,"protocol":"HTTP","protocol_version":"HTTP1","proxy_protocol_v2":null,"region":"us-east-1","slow_start":0,"stickiness":[{"cookie_duration":86400,"cookie_name":"","enabled":false,"type":"lb_cookie"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":null,"unhealthy_draining_interval":null}],"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]},"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-varnish-tg/a2f019021d2ac10f"}}],"address":"module.alb"},{"resources":[{"address":"module.autoscaling_group.aws_autoscaling_group.this","mode":"managed","type":"aws_autoscaling_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:autoscaling:us-east-1:763457559801:autoScalingGroup:fa52ea09-2ae1-4287-849b-db55ca8bbf11:autoScalingGroupName/magento-ASG","availability_zone_distribution":[{"capacity_distribution_strategy":"balanced-best-effort"}],"availability_zones":["us-east-1b","us-east-1c"],"capacity_rebalance":false,"capacity_reservation_specification":[{"capacity_reservation_preference":"default","capacity_reservation_target":[]}],"context":"","default_cooldown":300,"default_instance_warmup":0,"desired_capacity":1,"desired_capacity_type":"","enabled_metrics":[],"force_delete":null,"force_delete_warm_pool":null,"health_check_grace_period":300,"health_check_type":"EC2","id":"magento-ASG","ignore_failed_scaling_activities":null,"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_configuration":"","launch_template":[{"id":"lt-0f9bb2296618bfffe","name":"magento-app-launch-template","version":"2"}],"load_balancers":[],"max_instance_lifetime":0,"max_size":4,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":1,"mixed_instances_policy":[],"name":"magento-ASG","name_prefix":"","placement_group":"","predicted_capacity":0,"protect_from_scale_in":false,"region":"us-east-1","service_linked_role_arn":"arn:aws:iam::763457559801:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling","suspended_processes":[],"tag":[{"key":"Name","propagate_at_launch":true,"value":"Magento APP"}],"target_group_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd"],"termination_policies":[],"timeouts":null,"traffic_source":[{"identifier":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","type":"elbv2"},{"identifier":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-tg/9d10ed8df838f9fd","type":"elbv2"}],"vpc_zone_identifier":["subnet-0844e1c7c0062ee6f","subnet-0f1ba7ce386ac9cf9"],"wait_for_capacity_timeout":null,"wait_for_elb_capacity":null,"warm_pool":[],"warm_pool_size":0},"sensitive_values":{"availability_zone_distribution":[{}],"availability_zones":[false,false],"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"enabled_metrics":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_template":[{}],"load_balancers":[],"mixed_instances_policy":[],"suspended_processes":[],"tag":[{}],"target_group_arns":[false,false],"termination_policies":[],"traffic_source":[{},{}],"vpc_zone_identifier":[false,false],"warm_pool":[]},"depends_on":["module.launch_template.aws_launch_template.this"]}],"address":"module.autoscaling_group"},{"resources":[{"address":"module.bastion_instance.aws_instance.this","mode":"managed","type":"aws_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"ami":"ami-0a7d80731ae1b2435","arn":"arn:aws:ec2:us-east-1:763457559801:instance/i-05f4c1103487f3f5c","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"credit_specification":[{"cpu_credits":"standard"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":true,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"force_destroy":null,"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-05f4c1103487f3f5c","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.medium","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"magento-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-005ba8aa90d584e53","private_dns":"ip-10-0-1-41.ec2.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.41","public_dns":"ec2-54-197-238-4.compute-1.amazonaws.com","public_ip":"54.197.238.4","region":"us-east-1","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":300,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0d73e5a3591775626","volume_size":100,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Bastion-Host"},"tags_all":{"Name":"Bastion-Host"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":null,"volume_tags":null,"vpc_security_group_ids":["sg-045371a5988ca6dab"]},"sensitive_values":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"cpu_options":[{}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[{}],"metadata_options":[{}],"network_interface":[],"private_dns_name_options":[{}],"root_block_device":[{"tags":{},"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"depends_on":["module.security_groups.aws_security_group.bastion"]}],"address":"module.bastion_instance"},{"resources":[{"address":"module.efs.aws_efs_file_system.this","mode":"managed","type":"aws_efs_file_system","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticfilesystem:us-east-1:763457559801:file-system/fs-009dec8cc4770411b","availability_zone_id":"","availability_zone_name":"","creation_token":"quickCreated-57f5cd13-95bb-455f-9c5c-60e179ac05fe","dns_name":"fs-009dec8cc4770411b.efs.us-east-1.amazonaws.com","encrypted":true,"id":"fs-009dec8cc4770411b","kms_key_id":"arn:aws:kms:us-east-1:763457559801:key/092100bc-8680-4c0e-98d6-0b7cce00b0ff","lifecycle_policy":[{"transition_to_archive":"","transition_to_ia":"AFTER_30_DAYS","transition_to_primary_storage_class":""},{"transition_to_archive":"AFTER_90_DAYS","transition_to_ia":"","transition_to_primary_storage_class":""}],"name":"magento-efs","number_of_mount_targets":2,"owner_id":"763457559801","performance_mode":"generalPurpose","protection":[{"replication_overwrite":"ENABLED"}],"provisioned_throughput_in_mibps":0,"region":"us-east-1","size_in_bytes":[{"value":12288,"value_in_ia":0,"value_in_standard":12288}],"tags":{"Name":"magento-efs"},"tags_all":{"Name":"magento-efs"},"throughput_mode":"elastic"},"sensitive_values":{"lifecycle_policy":[{},{}],"protection":[{}],"size_in_bytes":[{}],"tags":{},"tags_all":{}}},{"address":"module.efs.aws_efs_mount_target.private_subnet_1","mode":"managed","type":"aws_efs_mount_target","name":"private_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"availability_zone_id":"use1-az6","availability_zone_name":"us-east-1b","dns_name":"fs-009dec8cc4770411b.efs.us-east-1.amazonaws.com","file_system_arn":"arn:aws:elasticfilesystem:us-east-1:763457559801:file-system/fs-009dec8cc4770411b","file_system_id":"fs-009dec8cc4770411b","id":"fsmt-044a94c3672334ae2","ip_address":"10.0.2.219","mount_target_dns_name":"us-east-1b.fs-009dec8cc4770411b.efs.us-east-1.amazonaws.com","network_interface_id":"eni-02117b5e60fbdb5f7","owner_id":"763457559801","region":"us-east-1","security_groups":["sg-0f6ca177cc2116d5f"],"subnet_id":"subnet-0844e1c7c0062ee6f","timeouts":null},"sensitive_values":{"security_groups":[false]},"depends_on":["module.efs.aws_efs_file_system.this"]},{"address":"module.efs.aws_efs_mount_target.private_subnet_2","mode":"managed","type":"aws_efs_mount_target","name":"private_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"availability_zone_id":"use1-az1","availability_zone_name":"us-east-1c","dns_name":"fs-009dec8cc4770411b.efs.us-east-1.amazonaws.com","file_system_arn":"arn:aws:elasticfilesystem:us-east-1:763457559801:file-system/fs-009dec8cc4770411b","file_system_id":"fs-009dec8cc4770411b","id":"fsmt-0f67f5ae74eddc4f6","ip_address":"10.0.3.122","mount_target_dns_name":"us-east-1c.fs-009dec8cc4770411b.efs.us-east-1.amazonaws.com","network_interface_id":"eni-0eb85ca22ce00a389","owner_id":"763457559801","region":"us-east-1","security_groups":["sg-0f6ca177cc2116d5f"],"subnet_id":"subnet-0f1ba7ce386ac9cf9","timeouts":null},"sensitive_values":{"security_groups":[false]},"depends_on":["module.efs.aws_efs_file_system.this"]}],"address":"module.efs"},{"resources":[{"address":"module.launch_template.aws_launch_template.app_lt","mode":"managed","type":"aws_launch_template","name":"app_lt","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:launch-template/lt-0f9bb2296618bfffe","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"v2","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{"arn":"arn:aws:iam::763457559801:instance-profile/MagentoAppEC2Role","name":""}],"id":"lt-0f9bb2296618bfffe","image_id":"ami-0b8e82d4253b30093","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"t3.medium","kernel_id":"","key_name":"magento-key","latest_version":2,"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"name":"magento-app-launch-template","name_prefix":"","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","region":"us-east-1","security_group_names":[],"tag_specifications":[],"tags":{},"tags_all":{},"update_default_version":null,"user_data":"","vpc_security_group_ids":["sg-09cf837ea2049c0dc"]},"sensitive_values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{}],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}],"address":"module.launch_template"},{"resources":[{"address":"module.nlb.aws_lb.this","mode":"managed","type":"aws_lb","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","arn_suffix":"net/magento-app-nlb/2f3135bb6f3bd957","client_keep_alive":null,"connection_logs":[],"customer_owned_ipv4_pool":"","desync_mitigation_mode":null,"dns_name":"magento-app-nlb-2f3135bb6f3bd957.elb.us-east-1.amazonaws.com","dns_record_client_routing_policy":"any_availability_zone","drop_invalid_header_fields":null,"enable_cross_zone_load_balancing":false,"enable_deletion_protection":false,"enable_http2":null,"enable_tls_version_and_cipher_suite_headers":null,"enable_waf_fail_open":null,"enable_xff_client_port":null,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","idle_timeout":null,"internal":true,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"network","minimum_load_balancer_capacity":[],"name":"magento-app-nlb","name_prefix":"","preserve_host_header":null,"region":"us-east-1","security_groups":["sg-0bb26111522191e4d"],"subnet_mapping":[{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0844e1c7c0062ee6f"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-0f1ba7ce386ac9cf9"}],"subnets":["subnet-0844e1c7c0062ee6f","subnet-0f1ba7ce386ac9cf9"],"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe","xff_header_processing_mode":null,"zone_id":"Z26RNL4JYFTOTI"},"sensitive_values":{"access_logs":[{}],"connection_logs":[],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[{},{}],"subnets":[false,false],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957"}},{"address":"module.nlb.aws_lb_listener.tcp_8080","mode":"managed","type":"aws_lb_listener","name":"tcp_8080","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[],"target_group":[{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","weight":0}]}],"order":0,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957","mutual_authentication":[],"port":8080,"protocol":"TCP","region":"us-east-1","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":null,"routing_http_response_access_control_allow_headers_header_value":null,"routing_http_response_access_control_allow_methods_header_value":null,"routing_http_response_access_control_allow_origin_header_value":null,"routing_http_response_access_control_expose_headers_header_value":null,"routing_http_response_access_control_max_age_header_value":null,"routing_http_response_content_security_policy_header_value":null,"routing_http_response_server_enabled":null,"routing_http_response_strict_transport_security_header_value":null,"routing_http_response_x_content_type_options_header_value":null,"routing_http_response_x_frame_options_header_value":null,"ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":350,"timeouts":null},"sensitive_values":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[{"stickiness":[],"target_group":[{}]}],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}},"depends_on":["module.nlb.aws_lb.this","module.nlb.aws_lb_target_group.app_nlb_tg","module.vpc_networking.aws_vpc.this"],"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:listener/net/magento-app-nlb/2f3135bb6f3bd957/e96fa2d55103d5ac"}},{"address":"module.nlb.aws_lb_target_group.app_nlb_tg","mode":"managed","type":"aws_lb_target_group","name":"app_nlb_tg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","arn_suffix":"targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","connection_termination":false,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":5,"interval":30,"matcher":"200-399","path":"/var/www/html/magento2/pub/healthcheck.html","port":"traffic-port","protocol":"HTTP","timeout":6,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":null,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:763457559801:loadbalancer/net/magento-app-nlb/2f3135bb6f3bd957"],"load_balancing_algorithm_type":null,"load_balancing_anomaly_mitigation":null,"load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"magento-app-nlb-tg","name_prefix":"","port":8080,"preserve_client_ip":"true","protocol":"TCP","protocol_version":null,"proxy_protocol_v2":false,"region":"us-east-1","slow_start":null,"stickiness":[{"cookie_duration":0,"cookie_name":"","enabled":false,"type":"source_ip"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":true,"unhealthy_draining_interval":0}],"target_type":"instance","vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]},"depends_on":["module.vpc_networking.aws_vpc.this"],"identity_schema_version":0,"identity":{"arn":"arn:aws:elasticloadbalancing:us-east-1:763457559801:targetgroup/magento-app-nlb-tg/486bb5fe9f639b0d"}}],"address":"module.nlb"},{"resources":[{"address":"module.rds.aws_db_instance.this","mode":"managed","type":"aws_db_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"address":"magento-rds.c4x2mqmga92y.us-east-1.rds.amazonaws.com","allocated_storage":200,"allow_major_version_upgrade":null,"apply_immediately":null,"arn":"arn:aws:rds:us-east-1:763457559801:db:magento-rds","auto_minor_version_upgrade":true,"availability_zone":"us-east-1b","backup_retention_period":7,"backup_target":"region","backup_window":"07:29-07:59","blue_green_update":[],"ca_cert_identifier":"rds-ca-rsa2048-g1","character_set_name":"","copy_tags_to_snapshot":true,"custom_iam_instance_profile":"","customer_owned_ip_enabled":false,"database_insights_mode":"standard","db_name":"magento","db_subnet_group_name":"default-vpc-097b04327a4c3cbbe","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_auth_secret_arn":"","domain_dns_ips":[],"domain_fqdn":"","domain_iam_role_name":"","domain_ou":"","enabled_cloudwatch_logs_exports":[],"endpoint":"magento-rds.c4x2mqmga92y.us-east-1.rds.amazonaws.com:3306","engine":"mysql","engine_lifecycle_support":"open-source-rds-extended-support-disabled","engine_version":"8.0.40","engine_version_actual":"8.0.40","final_snapshot_identifier":null,"hosted_zone_id":"Z2R2ITUGPM61AM","iam_database_authentication_enabled":false,"id":"db-AKRSOSRG7GIRTNLPZOTDFBHCEM","identifier":"magento-rds","identifier_prefix":"","instance_class":"db.m5.xlarge","iops":3000,"kms_key_id":"arn:aws:kms:us-east-1:763457559801:key/846e213a-9c2b-4e34-a6c3-82a54d13d52c","latest_restorable_time":"2025-08-08T18:00:00Z","license_model":"general-public-license","listener_endpoint":[],"maintenance_window":"fri:04:52-fri:05:22","manage_master_user_password":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"max_allocated_storage":1000,"monitoring_interval":60,"monitoring_role_arn":"arn:aws:iam::763457559801:role/rds-monitoring-role","multi_az":false,"nchar_character_set_name":"","network_type":"IPV4","option_group_name":"default:mysql-8-0","parameter_group_name":"default.mysql8.0","password":null,"password_wo":null,"password_wo_version":null,"performance_insights_enabled":true,"performance_insights_kms_key_id":"arn:aws:kms:us-east-1:763457559801:key/846e213a-9c2b-4e34-a6c3-82a54d13d52c","performance_insights_retention_period":7,"port":3306,"publicly_accessible":false,"region":"us-east-1","replica_mode":"","replicas":[],"replicate_source_db":"","resource_id":"db-AKRSOSRG7GIRTNLPZOTDFBHCEM","restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"snapshot_identifier":null,"status":"available","storage_encrypted":true,"storage_throughput":125,"storage_type":"gp3","tags":{},"tags_all":{},"timeouts":null,"timezone":"","upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0d05e04f7b4602fff"]},"sensitive_values":{"blue_green_update":[],"domain_dns_ips":[],"enabled_cloudwatch_logs_exports":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}],"address":"module.rds"},{"resources":[{"address":"module.security_groups.aws_security_group.app","mode":"managed","type":"aws_security_group","name":"app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-0d05e04f7b4602fff","description":"RDS-SG","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0d05e04f7b4602fff","ingress":[{"cidr_blocks":[],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-09cf837ea2049c0dc"],"self":false,"to_port":3306}],"name":"RDS-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"763457559801","id":"sg-0d05e04f7b4602fff","region":"us-east-1"}},{"address":"module.security_groups.aws_security_group.bastion","mode":"managed","type":"aws_security_group","name":"bastion","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-045371a5988ca6dab","description":"SSH access from office IP","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-045371a5988ca6dab","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Jenkins","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080},{"cidr_blocks":["103.2.234.168/32"],"description":"SSH access from office IP","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"Bastion-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"763457559801","id":"sg-045371a5988ca6dab","region":"us-east-1"}},{"address":"module.security_groups.aws_security_group.efs","mode":"managed","type":"aws_security_group","name":"efs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-0f6ca177cc2116d5f","description":"EFS-SG","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0f6ca177cc2116d5f","ingress":[{"cidr_blocks":[],"description":"","from_port":2049,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-09cf837ea2049c0dc"],"self":false,"to_port":2049}],"name":"EFS-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"763457559801","id":"sg-0f6ca177cc2116d5f","region":"us-east-1"}},{"address":"module.security_groups.aws_security_group.rds","mode":"managed","type":"aws_security_group","name":"rds","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-0d05e04f7b4602fff","description":"RDS-SG","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0d05e04f7b4602fff","ingress":[{"cidr_blocks":[],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-09cf837ea2049c0dc"],"self":false,"to_port":3306}],"name":"RDS-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"763457559801","id":"sg-0d05e04f7b4602fff","region":"us-east-1"}},{"address":"module.security_groups.aws_security_group.varnish","mode":"managed","type":"aws_security_group","name":"varnish","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:security-group/sg-0bb26111522191e4d","description":"Varnish-SG","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0bb26111522191e4d","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"Varnish-SG","name_prefix":"","owner_id":"763457559801","region":"us-east-1","revoke_rules_on_delete":null,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"763457559801","id":"sg-0bb26111522191e4d","region":"us-east-1"}}],"address":"module.security_groups"},{"resources":[{"address":"module.varnish_instance.aws_instance.this","mode":"managed","type":"aws_instance","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"ami":"ami-0a7d80731ae1b2435","arn":"arn:aws:ec2:us-east-1:763457559801:instance/i-06a56d2e6b1267d08","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":true,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"force_destroy":null,"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-06a56d2e6b1267d08","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.medium","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"magento-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0831543a6dc4426e2","private_dns":"ip-10-0-1-181.ec2.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.181","public_dns":"ec2-54-92-201-253.compute-1.amazonaws.com","public_ip":"54.92.201.253","region":"us-east-1","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0da059d843baf1131","volume_size":20,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Varnish Server"},"tags_all":{"Name":"Varnish Server"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":null,"volume_tags":null,"vpc_security_group_ids":["sg-0bb26111522191e4d"]},"sensitive_values":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"cpu_options":[{}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[{}],"metadata_options":[{}],"network_interface":[],"private_dns_name_options":[{}],"root_block_device":[{"tags":{},"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"depends_on":["module.security_groups.aws_security_group.varnish"]}],"address":"module.varnish_instance"},{"resources":[{"address":"module.vpc_networking.aws_eip.nat_eip","mode":"managed","type":"aws_eip","name":"nat_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"allocation_id":"eipalloc-09384b23a2b579040","arn":"arn:aws:ec2:us-east-1:763457559801:elastic-ip/eipalloc-09384b23a2b579040","associate_with_private_ip":null,"association_id":"eipassoc-049036624d56cb6d9","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-09384b23a2b579040","instance":"","ipam_pool_id":null,"network_border_group":"us-east-1","network_interface":"eni-0b9713c62357fb84d","private_dns":"ip-10-0-1-154.ec2.internal","private_ip":"10.0.1.154","ptr_record":"","public_dns":"ec2-44-214-62-155.compute-1.amazonaws.com","public_ip":"44.214.62.155","public_ipv4_pool":"amazon","region":"us-east-1","tags":{},"tags_all":{},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc_networking.aws_internet_gateway.igw","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:internet-gateway/igw-0612fd51f41716ecc","id":"igw-0612fd51f41716ecc","owner_id":"763457559801","region":"us-east-1","tags":{"Name":"Magento-IGW"},"tags_all":{"Name":"Magento-IGW"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_nat_gateway.nat","mode":"managed","type":"aws_nat_gateway","name":"nat","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-09384b23a2b579040","association_id":"eipassoc-049036624d56cb6d9","connectivity_type":"public","id":"nat-06d5248f0917c82e0","network_interface_id":"eni-0b9713c62357fb84d","private_ip":"10.0.1.154","public_ip":"44.214.62.155","region":"us-east-1","secondary_allocation_ids":[],"secondary_private_ip_address_count":0,"secondary_private_ip_addresses":[],"subnet_id":"subnet-07ac857e4cadec4a0","tags":{"Name":"Magento-NAT"},"tags_all":{"Name":"Magento-NAT"},"timeouts":null},"sensitive_values":{"secondary_allocation_ids":[],"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}},"depends_on":["module.vpc_networking.aws_eip.nat_eip","module.vpc_networking.aws_subnet.public_1","module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:route-table/rtb-054046a7dfa23c4b6","id":"rtb-054046a7dfa23c4b6","owner_id":"763457559801","propagating_vgws":[],"region":"us-east-1","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-06d5248f0917c82e0","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"Private-RT"},"tags_all":{"Name":"Private-RT"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"depends_on":["module.vpc_networking.aws_eip.nat_eip","module.vpc_networking.aws_nat_gateway.nat","module.vpc_networking.aws_subnet.public_1","module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:route-table/rtb-0c68e107ffea7a940","id":"rtb-0c68e107ffea7a940","owner_id":"763457559801","propagating_vgws":[],"region":"us-east-1","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0612fd51f41716ecc","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"Public-RT"},"tags_all":{"Name":"Public-RT"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"depends_on":["module.vpc_networking.aws_internet_gateway.igw","module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_route_table_association.private_app","mode":"managed","type":"aws_route_table_association","name":"private_app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-081829b1abd0445b9","region":"us-east-1","route_table_id":"rtb-054046a7dfa23c4b6","subnet_id":"subnet-0844e1c7c0062ee6f","timeouts":null},"sensitive_values":{},"depends_on":["module.vpc_networking.aws_eip.nat_eip","module.vpc_networking.aws_nat_gateway.nat","module.vpc_networking.aws_route_table.private","module.vpc_networking.aws_subnet.private_app","module.vpc_networking.aws_subnet.public_1","module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_route_table_association.private_db","mode":"managed","type":"aws_route_table_association","name":"private_db","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-002391e32899df090","region":"us-east-1","route_table_id":"rtb-054046a7dfa23c4b6","subnet_id":"subnet-0f1ba7ce386ac9cf9","timeouts":null},"sensitive_values":{},"depends_on":["module.vpc_networking.aws_eip.nat_eip","module.vpc_networking.aws_nat_gateway.nat","module.vpc_networking.aws_route_table.private","module.vpc_networking.aws_subnet.private_db","module.vpc_networking.aws_subnet.public_1","module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_route_table_association.public_1","mode":"managed","type":"aws_route_table_association","name":"public_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-0d310d0fb411509b7","region":"us-east-1","route_table_id":"rtb-0c68e107ffea7a940","subnet_id":"subnet-07ac857e4cadec4a0","timeouts":null},"sensitive_values":{},"depends_on":["module.vpc_networking.aws_internet_gateway.igw","module.vpc_networking.aws_route_table.public","module.vpc_networking.aws_subnet.public_1","module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_route_table_association.public_2","mode":"managed","type":"aws_route_table_association","name":"public_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-029b59c5032d4b5b4","region":"us-east-1","route_table_id":"rtb-0c68e107ffea7a940","subnet_id":"subnet-0e435f008db8b42b6","timeouts":null},"sensitive_values":{},"depends_on":["module.vpc_networking.aws_internet_gateway.igw","module.vpc_networking.aws_route_table.public","module.vpc_networking.aws_subnet.public_2","module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_subnet.private_app","mode":"managed","type":"aws_subnet","name":"private_app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:subnet/subnet-0844e1c7c0062ee6f","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az6","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0844e1c7c0062ee6f","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"763457559801","private_dns_hostname_type_on_launch":"ip-name","region":"us-east-1","tags":{"Name":"Private-App-Subnet"},"tags_all":{"Name":"Private-App-Subnet"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_subnet.private_db","mode":"managed","type":"aws_subnet","name":"private_db","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:subnet/subnet-0f1ba7ce386ac9cf9","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1c","availability_zone_id":"use1-az1","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0f1ba7ce386ac9cf9","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"763457559801","private_dns_hostname_type_on_launch":"ip-name","region":"us-east-1","tags":{"Name":"Private-DB-Subnet"},"tags_all":{"Name":"Private-DB-Subnet"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_subnet.public_1","mode":"managed","type":"aws_subnet","name":"public_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:subnet/subnet-07ac857e4cadec4a0","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az4","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-07ac857e4cadec4a0","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"763457559801","private_dns_hostname_type_on_launch":"ip-name","region":"us-east-1","tags":{"Name":"Public-Subnet"},"tags_all":{"Name":"Public-Subnet"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_subnet.public_2","mode":"managed","type":"aws_subnet","name":"public_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:subnet/subnet-0e435f008db8b42b6","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1d","availability_zone_id":"use1-az2","cidr_block":"10.0.4.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0e435f008db8b42b6","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"763457559801","private_dns_hostname_type_on_launch":"ip-name","region":"us-east-1","tags":{"Name":"public-subnet-2"},"tags_all":{"Name":"public-subnet-2"},"timeouts":null,"vpc_id":"vpc-097b04327a4c3cbbe"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc_networking.aws_vpc.this"]},{"address":"module.vpc_networking.aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:763457559801:vpc/vpc-097b04327a4c3cbbe","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0faa098894ae9bbea","default_route_table_id":"rtb-088f60ea162c83cd5","default_security_group_id":"sg-0235abd9abdecfd5e","dhcp_options_id":"dopt-0456762e9a97fa9dd","enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-097b04327a4c3cbbe","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-088f60ea162c83cd5","owner_id":"763457559801","region":"us-east-1","tags":{"Name":"Magento-VPC"},"tags_all":{"Name":"Magento-VPC"}},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.vpc_networking"}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws"}},"root_module":{"resources":[{"address":"aws_db_subnet_group.magento","mode":"managed","type":"aws_db_subnet_group","name":"magento","provider_config_key":"aws","expressions":{"name":{"constant_value":"magento-rds-subnet-group"},"subnet_ids":{"constant_value":["subnet-0844e1c7c0062ee6f","subnet-0f1ba7ce386ac9cf9"]},"tags":{"constant_value":{"Name":"Magento-RDS-SubnetGroup"}}},"schema_version":0}],"module_calls":{"alb":{"source":"./modules/alb","expressions":{"alb_sg_id":{"references":["module.security_groups.alb_sg_id","module.security_groups"]},"public_subnet_ids":{"references":["module.vpc_networking.public_subnet_ids","module.vpc_networking"]},"vpc_id":{"references":["module.vpc_networking.vpc_id","module.vpc_networking"]}},"module":{"outputs":{"alb_arn":{"expression":{"references":["aws_lb.this.arn","aws_lb.this"]},"description":"ARN of the ALB"},"alb_dns_name":{"expression":{"references":["aws_lb.this.dns_name","aws_lb.this"]},"description":"DNS name of the ALB"},"app_target_group_arn":{"expression":{"references":["aws_lb_target_group.app_tg.arn","aws_lb_target_group.app_tg"]},"description":"ARN of the app target group"},"varnish_target_group_arn":{"expression":{"references":["aws_lb_target_group.varnish_tg.arn","aws_lb_target_group.varnish_tg"]},"description":"ARN of the varnish target group"}},"resources":[{"address":"aws_lb.this","mode":"managed","type":"aws_lb","name":"this","provider_config_key":"aws","expressions":{"internal":{"constant_value":false},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"Magento-ALB"},"security_groups":{"references":["var.alb_sg_id"]},"subnets":{"references":["var.public_subnet_ids"]},"tags":{"constant_value":{"Name":"Magento-ALB"}}},"schema_version":0},{"address":"aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"references":["aws_lb_target_group.varnish_tg.arn","aws_lb_target_group.varnish_tg"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"references":["aws_lb.this.arn","aws_lb.this"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_lb_listener_rule.admin_rule","mode":"managed","type":"aws_lb_listener_rule","name":"admin_rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"references":["aws_lb_target_group.app_tg.arn","aws_lb_target_group.app_tg"]},"type":{"constant_value":"forward"}}],"condition":[{"path_pattern":[{"values":{"constant_value":["/admin*"]}}]}],"listener_arn":{"references":["aws_lb_listener.http.arn","aws_lb_listener.http"]},"priority":{"constant_value":1}},"schema_version":0},{"address":"aws_lb_target_group.app_tg","mode":"managed","type":"aws_lb_target_group","name":"app_tg","provider_config_key":"aws","expressions":{"health_check":[{"healthy_threshold":{"constant_value":5},"interval":{"constant_value":30},"matcher":{"constant_value":"200"},"path":{"constant_value":"/var/www/html/magento2/pub/healthcheck.html"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"magento-app-tg"},"port":{"constant_value":8080},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"instance"},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":0},{"address":"aws_lb_target_group.varnish_tg","mode":"managed","type":"aws_lb_target_group","name":"varnish_tg","provider_config_key":"aws","expressions":{"health_check":[{"healthy_threshold":{"constant_value":5},"interval":{"constant_value":30},"matcher":{"constant_value":"200"},"path":{"constant_value":"/healthcheck.html"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"magento-varnish-tg"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"instance"},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":0}],"variables":{"alb_sg_id":{"description":"Security Group ID for the ALB"},"public_subnet_ids":{"description":"List of public subnet IDs for ALB"},"vpc_id":{"description":"VPC ID for the load balancer and target groups"}}}},"autoscaling_group":{"source":"./modules/autoscaling_group","expressions":{"desired_capacity":{"constant_value":1},"launch_template_id":{"references":["module.launch_template.id","module.launch_template"]},"launch_template_version":{"references":["module.launch_template.latest_version","module.launch_template"]},"max_size":{"constant_value":4},"min_size":{"constant_value":1},"name":{"constant_value":"magento-ASG"},"nlb_target_group_arn":{"references":["module.nlb.app_nlb_tg_arn","module.nlb"]},"vpc_zone_identifier":{"references":["var.private_subnet_ids"]}},"module":{"resources":[{"address":"aws_autoscaling_attachment.asg_nlb_attachment","mode":"managed","type":"aws_autoscaling_attachment","name":"asg_nlb_attachment","provider_config_key":"aws","expressions":{"autoscaling_group_name":{"references":["aws_autoscaling_group.this.name","aws_autoscaling_group.this"]},"lb_target_group_arn":{"references":["var.nlb_target_group_arn"]}},"schema_version":0},{"address":"aws_autoscaling_group.this","mode":"managed","type":"aws_autoscaling_group","name":"this","provider_config_key":"aws","expressions":{"desired_capacity":{"references":["var.desired_capacity"]},"launch_template":[{"id":{"references":["var.launch_template_id"]},"version":{"references":["var.launch_template_version"]}}],"max_size":{"references":["var.max_size"]},"min_size":{"references":["var.min_size"]},"name":{"references":["var.name"]},"tag":[{"key":{"constant_value":"Name"},"propagate_at_launch":{"constant_value":true},"value":{"references":["var.name"]}}],"vpc_zone_identifier":{"references":["var.vpc_zone_identifier"]}},"schema_version":1}],"variables":{"desired_capacity":{"default":2},"launch_template_id":{"description":"Launch template ID"},"launch_template_version":{"default":"$Latest","description":"Launch template version to use"},"max_size":{"default":4},"min_size":{"default":1},"name":{"description":"Name of the Auto Scaling Group"},"nlb_target_group_arn":{"description":"ARN of the NLB Target Group to attach ASG instances"},"vpc_zone_identifier":{"description":"List of subnet IDs for ASG"}}}},"bastion_instance":{"source":"./modules/ec2_instance","expressions":{"ami":{"constant_value":"ami-0a7d80731ae1b2435"},"associate_public_ip":{"constant_value":true},"instance_type":{"constant_value":"t3.medium"},"key_name":{"constant_value":"magento-key"},"name":{"constant_value":"Bastion-Host"},"root_volume_size":{"constant_value":100},"security_group_ids":{"references":["module.security_groups.bastion_sg_id","module.security_groups"]},"subnet_id":{"constant_value":"subnet-07ac857e4cadec4a0"},"tags":{"constant_value":{"Role":"Bastion"}}},"module":{"outputs":{"instance_id":{"expression":{"references":["aws_instance.this.id","aws_instance.this"]}},"private_ip":{"expression":{"references":["aws_instance.this.private_ip","aws_instance.this"]}},"public_ip":{"expression":{"references":["aws_instance.this.public_ip","aws_instance.this"]}}},"resources":[{"address":"aws_instance.this","mode":"managed","type":"aws_instance","name":"this","provider_config_key":"aws","expressions":{"ami":{"references":["var.ami"]},"associate_public_ip_address":{"references":["var.associate_public_ip"]},"instance_type":{"references":["var.instance_type"]},"key_name":{"references":["var.key_name"]},"root_block_device":[{"volume_size":{"references":["var.root_volume_size"]},"volume_type":{"constant_value":"gp3"}}],"subnet_id":{"references":["var.subnet_id"]},"tags":{"references":["var.name","var.tags"]},"vpc_security_group_ids":{"references":["var.security_group_ids"]}},"schema_version":2}],"variables":{"ami":{"description":"AMI ID"},"associate_public_ip":{"default":true,"description":"Whether to associate a public IP"},"instance_type":{"description":"Instance type"},"key_name":{"description":"Key pair name"},"name":{"description":"Name tag for instance"},"root_volume_size":{"default":30,"description":"Root EBS volume size in GB"},"security_group_ids":{"description":"List of security group IDs"},"subnet_id":{"description":"Subnet ID to launch instance"},"tags":{"default":{},"description":"Additional tags"}}}},"efs":{"source":"./modules/efs","expressions":{"name":{"constant_value":"magento-efs"},"private_subnet_1":{"constant_value":"subnet-0844e1c7c0062ee6f"},"private_subnet_2":{"constant_value":"subnet-0f1ba7ce386ac9cf9"},"security_group_id":{"constant_value":"sg-0f6ca177cc2116d5f"}},"module":{"outputs":{"efs_arn":{"expression":{"references":["aws_efs_file_system.this.arn","aws_efs_file_system.this"]}},"efs_id":{"expression":{"references":["aws_efs_file_system.this.id","aws_efs_file_system.this"]}}},"resources":[{"address":"aws_efs_file_system.this","mode":"managed","type":"aws_efs_file_system","name":"this","provider_config_key":"aws","expressions":{"creation_token":{"references":["var.name"]},"encrypted":{"constant_value":true},"tags":{"references":["var.name"]}},"schema_version":0},{"address":"aws_efs_mount_target.private_subnet_1","mode":"managed","type":"aws_efs_mount_target","name":"private_subnet_1","provider_config_key":"aws","expressions":{"file_system_id":{"references":["aws_efs_file_system.this.id","aws_efs_file_system.this"]},"security_groups":{"references":["var.security_group_id"]},"subnet_id":{"references":["var.private_subnet_1"]}},"schema_version":0},{"address":"aws_efs_mount_target.private_subnet_2","mode":"managed","type":"aws_efs_mount_target","name":"private_subnet_2","provider_config_key":"aws","expressions":{"file_system_id":{"references":["aws_efs_file_system.this.id","aws_efs_file_system.this"]},"security_groups":{"references":["var.security_group_id"]},"subnet_id":{"references":["var.private_subnet_2"]}},"schema_version":0}],"variables":{"name":{"description":"Name of the EFS"},"private_subnet_1":{"description":"First private subnet for mount target"},"private_subnet_2":{"description":"Second private subnet for mount target"},"security_group_id":{"description":"EFS security group ID"}}}},"launch_template":{"source":"./modules/launch_template","expressions":{"ami_id":{"constant_value":"ami-035dd7fc60ed66665"},"instance_type":{"constant_value":"t3.medium"},"name":{"constant_value":"magento-app-launch-template"},"security_group_ids":{"constant_value":["sg-09cf837ea2049c0dc"]}},"module":{"outputs":{"id":{"expression":{"references":["aws_launch_template.this.id","aws_launch_template.this"]}},"latest_version":{"expression":{"references":["aws_launch_template.this.latest_version","aws_launch_template.this"]}}},"resources":[{"address":"aws_launch_template.app_lt","mode":"managed","type":"aws_launch_template","name":"app_lt","provider_config_key":"aws","expressions":{"image_id":{"references":["var.ami_id"]},"instance_type":{"references":["var.instance_type"]},"name_prefix":{"constant_value":"magento-app-lt-"}},"schema_version":0},{"address":"aws_launch_template.this","mode":"managed","type":"aws_launch_template","name":"this","provider_config_key":"aws","expressions":{"image_id":{"references":["var.ami_id"]},"instance_type":{"references":["var.instance_type"]},"key_name":{"references":["var.key_name"]},"name_prefix":{"references":["var.name"]},"network_interfaces":[{"associate_public_ip_address":{"constant_value":true},"security_groups":{"references":["var.security_group_ids"]}}],"user_data":{"references":["var.user_data"]}},"schema_version":0}],"variables":{"ami_id":{},"instance_type":{"default":"t3.medium"},"key_name":{"default":null,"description":"Key pair name for SSH"},"name":{"description":"Name of the launch template"},"security_group_ids":{"description":"List of security group IDs"},"user_data":{"default":"","description":"User data script to initialize the instance"}}}},"nlb":{"source":"./modules/nlb","expressions":{"subnet_ids":{"references":["var.private_subnet_1_id","var.private_subnet_2_id"]},"vpc_id":{"references":["module.vpc_networking.vpc_id","module.vpc_networking"]}},"module":{"outputs":{"app_nlb_tg_arn":{"expression":{"references":["aws_lb_target_group.app_nlb_tg.arn","aws_lb_target_group.app_nlb_tg"]},"description":"ARN of the NLB target group for the app"},"nlb_arn":{"expression":{"references":["aws_lb.this.arn","aws_lb.this"]}},"nlb_dns_name":{"expression":{"references":["aws_lb.this.dns_name","aws_lb.this"]}}},"resources":[{"address":"aws_lb.this","mode":"managed","type":"aws_lb","name":"this","provider_config_key":"aws","expressions":{"internal":{"constant_value":true},"load_balancer_type":{"constant_value":"network"},"name":{"constant_value":"magento-app-nlb"},"subnets":{"references":["var.subnet_ids"]},"tags":{"constant_value":{"Name":"magento-app-nlb"}}},"schema_version":0},{"address":"aws_lb_listener.tcp_8080","mode":"managed","type":"aws_lb_listener","name":"tcp_8080","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"references":["aws_lb_target_group.app_nlb_tg.arn","aws_lb_target_group.app_nlb_tg"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"references":["aws_lb.this.arn","aws_lb.this"]},"port":{"constant_value":8080},"protocol":{"constant_value":"TCP"}},"schema_version":0},{"address":"aws_lb_target_group.app_nlb_tg","mode":"managed","type":"aws_lb_target_group","name":"app_nlb_tg","provider_config_key":"aws","expressions":{"health_check":[{"healthy_threshold":{"constant_value":5},"interval":{"constant_value":30},"matcher":{"constant_value":"200-399"},"path":{"constant_value":"/var/www/html/magento2/pub/healthcheck.html"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":6},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"magento-app-nlb-tg"},"port":{"constant_value":8080},"protocol":{"constant_value":"TCP"},"target_type":{"constant_value":"instance"},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":0}],"variables":{"subnet_ids":{"description":"Subnets for NLB"},"vpc_id":{"description":"VPC ID"}}}},"rds":{"source":"./modules/rds","expressions":{"allocated_storage":{"constant_value":50},"db_name":{"constant_value":"magento"},"deletion_protection":{"constant_value":false},"engine":{"constant_value":"mysql"},"engine_version":{"constant_value":"8.0"},"identifier":{"constant_value":"magento-rds"},"instance_class":{"constant_value":"db.m5.xlarge"},"multi_az":{"constant_value":false},"password":{"references":["var.db_password"]},"security_group_ids":{"constant_value":["sg-0d05e04f7b4602fff"]},"subnet_group":{"constant_value":"default-vpc-097b04327a4c3cbbe"},"tags":{"constant_value":{"Application":"Magento","Environment":"Production"}},"username":{"references":["var.db_username"]}},"module":{"outputs":{"endpoint":{"expression":{"references":["aws_db_instance.this.endpoint","aws_db_instance.this"]}},"rds_address":{"expression":{"references":["aws_db_instance.this.address","aws_db_instance.this"]}},"rds_arn":{"expression":{"references":["aws_db_instance.this.arn","aws_db_instance.this"]}},"rds_instance_id":{"expression":{"references":["aws_db_instance.this.id","aws_db_instance.this"]}}},"resources":[{"address":"aws_db_instance.this","mode":"managed","type":"aws_db_instance","name":"this","provider_config_key":"aws","expressions":{"allocated_storage":{"references":["var.allocated_storage"]},"db_name":{"references":["var.db_name"]},"db_subnet_group_name":{"references":["var.subnet_group"]},"deletion_protection":{"references":["var.deletion_protection"]},"engine":{"references":["var.engine"]},"engine_version":{"references":["var.engine_version"]},"identifier":{"references":["var.identifier"]},"instance_class":{"references":["var.instance_class"]},"multi_az":{"references":["var.multi_az"]},"password":{"references":["var.password"]},"publicly_accessible":{"constant_value":false},"skip_final_snapshot":{"constant_value":true},"tags":{"references":["var.identifier","var.tags"]},"username":{"references":["var.username"]},"vpc_security_group_ids":{"references":["var.security_group_ids"]}},"schema_version":2}],"variables":{"allocated_storage":{"default":50,"description":"Storage size (in GB)"},"db_name":{"description":"Name of the database to create"},"deletion_protection":{"default":false,"description":"Enable deletion protection"},"engine":{"default":"mysql","description":"Database engine"},"engine_version":{"default":"8.0","description":"Engine version"},"identifier":{"description":"RDS instance identifier"},"instance_class":{"description":"Instance type for RDS"},"multi_az":{"default":false,"description":"Enable Multi-AZ deployment"},"password":{"description":"Master DB password","sensitive":true},"security_group_ids":{"description":"Security group IDs for the RDS instance"},"subnet_group":{"description":"RDS subnet group name"},"tags":{"default":{},"description":"Additional tags"},"username":{"description":"Master DB username","sensitive":true}}}},"security_groups":{"source":"./modules/security_groups","expressions":{"admin_ip":{"constant_value":"106.51.80.19/32"},"vpc_id":{"constant_value":"vpc-097b04327a4c3cbbe"}},"module":{"outputs":{"alb_sg_id":{"expression":{"references":["aws_security_group.alb_sg.id","aws_security_group.alb_sg"]},"description":"ALB Security Group ID"},"app_sg_id":{"expression":{"references":["aws_security_group.app.id","aws_security_group.app"]}},"bastion_sg_id":{"expression":{"references":["aws_security_group.bastion.id","aws_security_group.bastion"]}},"efs_sg_id":{"expression":{"references":["aws_security_group.efs.id","aws_security_group.efs"]}},"rds_sg_id":{"expression":{"references":["aws_security_group.rds.id","aws_security_group.rds"]}},"varnish_sg_id":{"expression":{"references":["aws_security_group.varnish.id","aws_security_group.varnish"]}}},"resources":[{"address":"aws_security_group.alb_sg","mode":"managed","type":"aws_security_group","name":"alb_sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow HTTP traffic to ALB"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":80}]},"name":{"constant_value":"ALB-SG"},"tags":{"constant_value":{"Name":"ALB-SG"}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_security_group.app","mode":"managed","type":"aws_security_group","name":"app","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow traffic from Varnish, EFS, RDS, Bastion"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["10.0.1.0/24"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":80},{"cidr_blocks":["10.0.1.0/24"],"description":null,"from_port":443,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":443},{"cidr_blocks":["10.0.1.0/24"],"description":null,"from_port":8080,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":8080},{"cidr_blocks":["10.0.1.0/24"],"description":null,"from_port":9200,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":9200},{"cidr_blocks":["10.0.2.0/24","10.0.3.0/24"],"description":null,"from_port":2049,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":2049},{"cidr_blocks":["10.0.1.0/24","10.0.2.0/24","10.0.3.0/24"],"description":null,"from_port":3306,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":3306},{"cidr_blocks":["10.0.1.0/24"],"description":null,"from_port":22,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":22},{"cidr_blocks":["18.214.123.55/32"],"description":null,"from_port":8080,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":8080}]},"name":{"constant_value":"app-sg"},"tags":{"constant_value":{"Name":"App-SG"}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_security_group.bastion","mode":"managed","type":"aws_security_group","name":"bastion","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow SSH and 8080 from admin IP"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"references":["var.admin_ip"]},"name":{"constant_value":"bastion-sg"},"tags":{"constant_value":{"Name":"Bastion-SG"}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_security_group.efs","mode":"managed","type":"aws_security_group","name":"efs","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow NFS from App"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["10.0.2.0/24"],"description":null,"from_port":2049,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":2049}]},"name":{"constant_value":"efs-sg"},"tags":{"constant_value":{"Name":"EFS-SG"}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_security_group.rds","mode":"managed","type":"aws_security_group","name":"rds","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow MySQL from App"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["10.0.2.0/24"],"description":null,"from_port":3306,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":3306}]},"name":{"constant_value":"rds-sg"},"tags":{"constant_value":{"Name":"RDS-SG"}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_security_group.varnish","mode":"managed","type":"aws_security_group","name":"varnish","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow all traffic (adjust later)"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"name":{"constant_value":"varnish-sg"},"tags":{"constant_value":{"Name":"Varnish-SG"}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1}],"variables":{"admin_ip":{"description":"Admin IP for SSH access"},"vpc_id":{"description":"VPC ID"}}}},"varnish_instance":{"source":"./modules/ec2_instance","expressions":{"ami":{"constant_value":"ami-0a7d80731ae1b2435"},"associate_public_ip":{"constant_value":true},"instance_type":{"constant_value":"t3.medium"},"key_name":{"constant_value":"magento-key"},"name":{"constant_value":"Varnish-Server"},"root_volume_size":{"constant_value":100},"security_group_ids":{"references":["module.security_groups.varnish_sg_id","module.security_groups"]},"subnet_id":{"constant_value":"subnet-0e435f008db8b42b6"},"tags":{"constant_value":{"Role":"Varnish"}}},"module":{"outputs":{"instance_id":{"expression":{"references":["aws_instance.this.id","aws_instance.this"]}},"private_ip":{"expression":{"references":["aws_instance.this.private_ip","aws_instance.this"]}},"public_ip":{"expression":{"references":["aws_instance.this.public_ip","aws_instance.this"]}}},"resources":[{"address":"aws_instance.this","mode":"managed","type":"aws_instance","name":"this","provider_config_key":"aws","expressions":{"ami":{"references":["var.ami"]},"associate_public_ip_address":{"references":["var.associate_public_ip"]},"instance_type":{"references":["var.instance_type"]},"key_name":{"references":["var.key_name"]},"root_block_device":[{"volume_size":{"references":["var.root_volume_size"]},"volume_type":{"constant_value":"gp3"}}],"subnet_id":{"references":["var.subnet_id"]},"tags":{"references":["var.name","var.tags"]},"vpc_security_group_ids":{"references":["var.security_group_ids"]}},"schema_version":2}],"variables":{"ami":{"description":"AMI ID"},"associate_public_ip":{"default":true,"description":"Whether to associate a public IP"},"instance_type":{"description":"Instance type"},"key_name":{"description":"Key pair name"},"name":{"description":"Name tag for instance"},"root_volume_size":{"default":30,"description":"Root EBS volume size in GB"},"security_group_ids":{"description":"List of security group IDs"},"subnet_id":{"description":"Subnet ID to launch instance"},"tags":{"default":{},"description":"Additional tags"}}}},"vpc_networking":{"source":"./modules/vpc_networking","expressions":{"azs":{"constant_value":["us-east-1a","us-east-1b"]},"private_subnets":{"constant_value":["10.0.2.0/24","10.0.3.0/24"]},"public_subnets":{"constant_value":["10.0.1.0/24","10.0.4.0/24"]},"vpc_cidr":{"constant_value":"10.0.0.0/16"}},"module":{"outputs":{"internet_gateway_id":{"expression":{"references":["aws_internet_gateway.igw.id","aws_internet_gateway.igw"]}},"nat_gateway_id":{"expression":{"references":["aws_nat_gateway.nat.id","aws_nat_gateway.nat"]}},"private_route_table_id":{"expression":{"references":["aws_route_table.private.id","aws_route_table.private"]}},"private_subnet_ids":{"expression":{"references":["aws_subnet.private_app.id","aws_subnet.private_app","aws_subnet.private_db.id","aws_subnet.private_db"]}},"public_route_table_id":{"expression":{"references":["aws_route_table.public.id","aws_route_table.public"]}},"public_subnet_ids":{"expression":{"references":["aws_subnet.public_1.id","aws_subnet.public_1","aws_subnet.public_2.id","aws_subnet.public_2"]}},"vpc_id":{"expression":{"references":["aws_vpc.this.id","aws_vpc.this"]}}},"resources":[{"address":"aws_eip.nat_eip","mode":"managed","type":"aws_eip","name":"nat_eip","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"nat-eip"}}},"schema_version":0},{"address":"aws_internet_gateway.igw","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_config_key":"aws","expressions":{"tags":{"references":["var.igw_name"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_nat_gateway.nat","mode":"managed","type":"aws_nat_gateway","name":"nat","provider_config_key":"aws","expressions":{"allocation_id":{"references":["aws_eip.nat_eip.id","aws_eip.nat_eip"]},"subnet_id":{"references":["aws_subnet.public_1.id","aws_subnet.public_1"]},"tags":{"references":["var.nat_name"]}},"schema_version":0},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_config_key":"aws","expressions":{"route":{"references":["aws_nat_gateway.nat.id","aws_nat_gateway.nat"]},"tags":{"references":["var.private_rt_name"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_config_key":"aws","expressions":{"route":{"references":["aws_internet_gateway.igw.id","aws_internet_gateway.igw"]},"tags":{"references":["var.public_rt_name"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_route_table_association.private_app","mode":"managed","type":"aws_route_table_association","name":"private_app","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private.id","aws_route_table.private"]},"subnet_id":{"references":["aws_subnet.private_app.id","aws_subnet.private_app"]}},"schema_version":0},{"address":"aws_route_table_association.private_db","mode":"managed","type":"aws_route_table_association","name":"private_db","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private.id","aws_route_table.private"]},"subnet_id":{"references":["aws_subnet.private_db.id","aws_subnet.private_db"]}},"schema_version":0},{"address":"aws_route_table_association.public_1","mode":"managed","type":"aws_route_table_association","name":"public_1","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]},"subnet_id":{"references":["aws_subnet.public_1.id","aws_subnet.public_1"]}},"schema_version":0},{"address":"aws_route_table_association.public_2","mode":"managed","type":"aws_route_table_association","name":"public_2","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]},"subnet_id":{"references":["aws_subnet.public_2.id","aws_subnet.public_2"]}},"schema_version":0},{"address":"aws_subnet.private_app","mode":"managed","type":"aws_subnet","name":"private_app","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.azs[0]","var.azs"]},"cidr_block":{"references":["var.private_subnets[0]","var.private_subnets"]},"tags":{"constant_value":{"Name":"Private-App-Subnet"}},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1},{"address":"aws_subnet.private_db","mode":"managed","type":"aws_subnet","name":"private_db","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.azs[1]","var.azs"]},"cidr_block":{"references":["var.private_subnets[1]","var.private_subnets"]},"tags":{"constant_value":{"Name":"Private-DB-Subnet"}},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1},{"address":"aws_subnet.public_1","mode":"managed","type":"aws_subnet","name":"public_1","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.azs[0]","var.azs"]},"cidr_block":{"references":["var.public_subnets[0]","var.public_subnets"]},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public-Subnet-1"}},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1},{"address":"aws_subnet.public_2","mode":"managed","type":"aws_subnet","name":"public_2","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.azs[1]","var.azs"]},"cidr_block":{"references":["var.public_subnets[1]","var.public_subnets"]},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public-Subnet-2"}},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1},{"address":"aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.vpc_cidr"]},"tags":{"references":["var.vpc_name"]}},"schema_version":1}],"variables":{"azs":{"default":["us-east-1a","us-east-1b"]},"igw_name":{"default":"Magento-IGW"},"nat_name":{"default":"Magento-NAT"},"private_rt_name":{"default":"Private-RT"},"private_subnets":{"default":["10.0.2.0/24","10.0.3.0/24"]},"public_rt_name":{"default":"Public-RT"},"public_subnets":{"default":["10.0.1.0/24","10.0.4.0/24"]},"vpc_cidr":{"default":"10.0.0.0/16"},"vpc_name":{"default":"Magento-VPC"}}}}},"variables":{"db_password":{"description":"The database password","sensitive":true},"db_username":{"description":"The database username"},"private_subnet_1_id":{"description":"Private Subnet 1 for NLB"},"private_subnet_2_id":{"description":"Private Subnet 2 for NLB"},"private_subnet_ids":{"description":"List of private subnet IDs"}}}},"relevant_attributes":[{"resource":"module.alb.aws_lb.this","attribute":["arn"]},{"resource":"module.vpc_networking.aws_route_table.public","attribute":["id"]},{"resource":"module.launch_template.aws_launch_template.this","attribute":["id"]},{"resource":"module.bastion_instance.aws_instance.this","attribute":["id"]},{"resource":"module.security_groups.aws_security_group.varnish","attribute":["id"]},{"resource":"module.autoscaling_group.aws_autoscaling_group.this","attribute":["name"]},{"resource":"module.bastion_instance.aws_instance.this","attribute":["public_ip"]},{"resource":"module.nlb.aws_lb.this","attribute":["arn"]},{"resource":"module.alb.aws_lb_target_group.varnish_tg","attribute":["arn"]},{"resource":"module.vpc_networking.aws_route_table.private","attribute":["id"]},{"resource":"module.alb.aws_lb_listener.http","attribute":["arn"]},{"resource":"module.vpc_networking.aws_subnet.private_db","attribute":["id"]},{"resource":"module.alb.aws_lb_target_group.app_tg","attribute":["arn"]},{"resource":"module.security_groups.aws_security_group.efs","attribute":["id"]},{"resource":"module.efs.aws_efs_file_system.this","attribute":["arn"]},{"resource":"module.launch_template.aws_launch_template.this","attribute":["latest_version"]},{"resource":"module.vpc_networking.aws_internet_gateway.igw","attribute":["id"]},{"resource":"module.vpc_networking.aws_subnet.private_app","attribute":["id"]},{"resource":"module.rds.aws_db_instance.this","attribute":["arn"]},{"resource":"module.rds.aws_db_instance.this","attribute":["id"]},{"resource":"module.alb.aws_lb.this","attribute":["dns_name"]},{"resource":"module.security_groups.aws_security_group.rds","attribute":["id"]},{"resource":"module.vpc_networking.aws_vpc.this","attribute":["id"]},{"resource":"module.bastion_instance.aws_instance.this","attribute":["private_ip"]},{"resource":"module.vpc_networking.aws_nat_gateway.nat","attribute":["id"]},{"resource":"module.nlb.aws_lb.this","attribute":["dns_name"]},{"resource":"module.varnish_instance.aws_instance.this","attribute":["private_ip"]},{"resource":"module.rds.aws_db_instance.this","attribute":["address"]},{"resource":"module.rds.aws_db_instance.this","attribute":["endpoint"]},{"resource":"module.security_groups.aws_security_group.bastion","attribute":["id"]},{"resource":"module.security_groups.aws_security_group.app","attribute":["id"]},{"resource":"module.varnish_instance.aws_instance.this","attribute":["public_ip"]},{"resource":"module.efs.aws_efs_file_system.this","attribute":["id"]},{"resource":"module.varnish_instance.aws_instance.this","attribute":["id"]},{"resource":"module.vpc_networking.aws_subnet.public_1","attribute":["id"]},{"resource":"module.nlb.aws_lb_target_group.app_nlb_tg","attribute":["arn"]},{"resource":"module.vpc_networking.aws_subnet.public_2","attribute":["id"]},{"resource":"module.security_groups.aws_security_group.alb_sg","attribute":["id"]}],"timestamp":"2025-08-08T18:04:43Z","applyable":true,"complete":true,"errored":false}
